(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{148:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"commonjsæ¨¡å—çš„åŠ è½½æœºåˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commonjsæ¨¡å—çš„åŠ è½½æœºåˆ¶","aria-hidden":"true"}},[s._v("#")]),s._v(" commonjsæ¨¡å—çš„åŠ è½½æœºåˆ¶")]),s._v(" "),a("p",[s._v("commonjsä¸­ï¼Œä¸€ä¸ªè„šæœ¬æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œé€šè¿‡"),a("code",[s._v("exports")]),s._v("ã€æˆ–è€…"),a("code",[s._v("module.exports")]),s._v("æ¥å¯¼å‡ºå˜é‡æˆ–æ•°æ®ï¼Œå…¶å®è¿™ä¸¤è€…æœ¬è´¨ä¸Šæ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå³"),a("code",[s._v("module.exports === exports")]),s._v("ã€‚")]),s._v(" "),a("p",[s._v("å½“æˆ‘ä»¬é€šè¿‡"),a("code",[s._v("require")]),s._v("å¯¼å…¥ä¸€ä¸ªæ¨¡å—çš„æ—¶å€™ï¼Œå¦‚æœè¿™ä¸ªæ¨¡å—æ²¡æœ‰è¢«åŠ è½½è¿‡ï¼Œå°±ä¼šè¢«ç«‹å³æ‰§è¡Œï¼Œå¹¶ä¸”åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ªæ¨¡å—å¯¹è±¡ï¼š")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'...'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    loaded"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("code",[s._v("id")]),s._v("å°±æ˜¯æ¨¡å—åï¼Œ"),a("code",[s._v("exports")]),s._v("å°±æ˜¯å¯¼å‡ºçš„æ•°æ®å¯¹è±¡ï¼Œ"),a("code",[s._v("loaded")]),s._v("è¡¨ç¤ºå½“å‰æ¨¡å—æ˜¯å¦åŠ è½½å®Œæˆ")]),s._v(" "),a("p",[s._v("ä¸¾ä¸ªğŸŒ°ï¼š")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// main.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" a1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reuqire")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// a.js")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'this is module \"a\"'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("æ‰§è¡Œ"),a("code",[s._v("main.js")]),s._v("ä¹‹åï¼Œå‘ç°æ§åˆ¶å°ä¸­åªæ‰“å°äº†ä¸€å¥ã€‚è¡¨æ˜ï¼Œåœ¨ç¬¬äºŒå¥"),a("code",[s._v("require")]),s._v("æ‰§è¡Œçš„æ—¶å€™ï¼Œaæ–‡ä»¶å¹¶æ²¡æœ‰è¢«å†æ¬¡æ‰§è¡Œï¼Œè€Œæ˜¯ç›´æ¥è¿”å›äº†å†…å­˜ä¸­çš„æ¨¡å—å¯¹è±¡ã€‚æˆ‘ä»¬è¿›ä¸€æ­¥è¯æ˜ä¸€ä¸‹")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" a1 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// true")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"module-exportså’Œexports"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#module-exportså’Œexports","aria-hidden":"true"}},[s._v("#")]),s._v(" module.exportså’Œexports")]),s._v(" "),a("p",[s._v("åœ¨æ¨¡å—çš„åˆå§‹åŒ–å®šä¹‰å½“ä¸­ï¼Œ"),a("code",[s._v("exports")]),s._v("å°±æ˜¯"),a("code",[s._v("module.exports")]),s._v("ï¼Œåªæ˜¯ä½¿ç”¨çš„å½¢å¼ä¸åŒï¼Œrequireå¼•å…¥ä¸€ä¸ªæ¨¡å—çš„æ—¶å€™å°†è¿”å›è¯¥æ¨¡å—çš„"),a("code",[s._v("module.exports")]),s._v("å˜é‡")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" exports\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("å› æ­¤åœ¨å¯¼å‡ºå˜é‡çš„æ—¶å€™è¦å°å¿ƒï¼Œä¸èƒ½ç›´æ¥å¯¹"),a("code",[s._v("exports")]),s._v("é‡æ–°èµ‹å€¼ï¼Œå¦åˆ™ï¼Œä¼šåˆ‡æ–­è·Ÿmoduleçš„è”ç³»")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v(" âœ…\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("b "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'b'")]),s._v("  âœ…\n\nexports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  âŒ\n    c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'c'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("è¿™æ ·å°†ä¼šå¯¼è‡´cå¯¼å‡ºå¤±è´¥ï¼Œè€Œåªä¼šæœ‰aã€bä¸¤ä¸ªå˜é‡")]),s._v(" "),a("h2",{attrs:{id:"å¾ªç¯ä¾èµ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¾ªç¯ä¾èµ–","aria-hidden":"true"}},[s._v("#")]),s._v(" å¾ªç¯ä¾èµ–")]),s._v(" "),a("p",[s._v("å¾ªç¯ä¾èµ–æŒ‡çš„æ˜¯åœ¨aæ¨¡å—ä¸­ä¾èµ–bæ¨¡å—ï¼Œè€Œåœ¨bæ¨¡å—ä¸­åˆè¿”å›æ¥ä¾èµ–aæ¨¡å—ã€‚è™½ç„¶åœ¨é¡¹ç›®ä¸­åº”è¯¥é¿å…å‡ºç°å¾ªç¯ä¾èµ–ï¼Œä½†å½“é¡¹ç›®è¶³å¤Ÿå¤§çš„æ—¶å€™ï¼Œä¹Ÿä¸èƒ½å®Œå…¨é¿å…è¿™æ ·çš„é—®é¢˜å‘ç”Ÿã€‚aä¾èµ–b,bä¾èµ–cï¼Œcä¾èµ–aä¹ŸåŒæ ·æ˜¯å¾ªç¯ä¾èµ–ã€‚")]),s._v(" "),a("p",[s._v("commonjsè§£å†³å¾ªç¯ä¾èµ–çš„ç­–ç•¥æ˜¯è¿™æ ·çš„ï¼Œåœ¨è¢«ä¾èµ–æ¨¡å—(b)ä¸­ï¼Œå¼•å…¥ä¾èµ–æ¨¡å—(a)ï¼Œå¯¼å…¥çš„ä¾èµ–æ¨¡å—åªä¼šåŒ…å«å·²ç»è¾“å‡ºçš„éƒ¨åˆ†ï¼Œè€Œä¸ä¼šåŒ…å«æœªè¾“å‡ºçš„éƒ¨åˆ†")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// a.js")]),s._v("\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a.js'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" b "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./b'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// b.js")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œaæ¨¡å—ä¾èµ–äº†bæ¨¡å—ï¼Œbæ¨¡å—ä¹Ÿä¾èµ–äº†aæ¨¡å—ï¼Œæ‰€ä»¥å¾ˆæ˜æ˜¾å­˜åœ¨å¾ªç¯ä¾èµ–çš„é—®é¢˜ã€‚è€Œå®é™…ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹æ˜¯")]),s._v(" "),a("p",[s._v("1ã€ é¦–å…ˆåˆæ¬¡åŠ è½½aæ¨¡å—ï¼Œä¼šæ‰§è¡Œaæ¨¡å—ä¸­çš„ä»£ç ï¼Œå¯¼å‡ºä¸€ä¸ªnameå˜é‡")]),s._v(" "),a("p",[s._v("2ã€ å¼•å…¥bæ¨¡å—ï¼Œåˆæ¬¡åŠ è½½bæ¨¡å—ä¼šæ‰§è¡Œbæ¨¡å—çš„ä»£ç ")]),s._v(" "),a("p",[s._v("3ã€ åœ¨bæ¨¡å—ä¸­ï¼Œåˆå¼•å…¥aæ¨¡å—ï¼Œå› ä¸ºaæ¨¡å—å·²ç»åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œæ‰€ä»¥ç›´æ¥å¯¼å…¥module.exportså˜é‡")]),s._v(" "),a("p",[s._v("4ã€ æ­¤æ—¶å¯¼å…¥çš„aæ¨¡å—ä¸­åªæœ‰nameå±æ€§ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥çš„å˜é‡é‡Œé¢ä¹Ÿåªæœ‰nameå±æ€§")]),s._v(" "),a("p",[s._v("5ã€ bæ¨¡å—åŠ è½½å®Œæˆï¼Œaæ¨¡å—ä¸­ç»§ç»­è¿½åŠ ageå±æ€§ï¼Œæ‰€ä»¥ï¼Œæ­¤åè®¿é—®æˆ–å¯¼å…¥aæ¨¡å—å°±èƒ½è®¿é—®ageå±æ€§äº†")]),s._v(" "),a("p",[s._v("åœ¨ç¬¬5ç‚¹ä¸­ï¼Œåªè¦aæ¨¡å—åŠ è½½å®Œæˆå°±èƒ½è®¿é—®ageå±æ€§äº†ï¼Œæ‰€ä»¥ï¼Œåœ¨bæ¨¡å—ä¸­ï¼Œåªè¦ç­‰å¾…aæ¨¡å—åŠ è½½å®Œæˆå°±å¯ä»¥äº†ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªsettimeoutå‡½æ•°åšä¸ªæµ‹è¯•")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// b.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("è¯æ˜ä¸Šé¢çš„ç†è§£æ˜¯æ­£ç¡®çš„")]),s._v(" "),a("p",[a("strong",[s._v("ä»¥ä¸Šå°±æ˜¯æˆ‘å¯¹commonjsæ¨¡å—åŠ è½½çš„ç†è§£")])]),s._v(" "),a("p",[s._v("å‚è€ƒï¼š")]),s._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2015/11/circular-dependency.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("æ¨¡å—ä¾èµ–"),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2015/05/require.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("requireæºç è§£è¯»"),a("OutboundLink")],1)])])])])},[],!1,null,null,null);t.default=e.exports}}]);