(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{349:function(s,a,t){s.exports=t.p+"assets/img/netdata.e5efc936.png"},554:function(s,a,t){"use strict";t.r(a);var n=t(14),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译"}},[s._v("#")]),s._v(" 编译")]),s._v(" "),a("p",[s._v("编译采用的 Lean 的源"),a("a",{attrs:{href:"https://github.com/coolsnowwolf/lede",target:"_blank",rel:"noopener noreferrer"}},[s._v("github"),a("OutboundLink")],1),s._v("，按照步骤基本能编译成功，要注意编译环境需要保证 40-50G 的空间。")]),s._v(" "),a("p",[s._v("h3 编译:")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("Target System 选择 Allwinner A1x/A20/A3x")])]),s._v(" "),a("li",[a("p",[s._v("Subtarget 选择 Allwinner A20/A3x")])]),s._v(" "),a("li",[a("p",[s._v("Target Profile 选择 FriendlyARM NanoPi NEO")])])]),s._v(" "),a("p",[a("a",{attrs:{href:"https://blog.csdn.net/wb4916/article/details/78227022",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("我主要用到的几个额外的包的 github 地址")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# aliddns")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/honwen/luci-app-aliddns.git\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# baidupcs-web")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/KFERMercer/openwrt-baidupcs-web.git\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/KFERMercer/luci-app-baidupcs-web.git\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解锁网易云音乐")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/maxlicheng/luci-app-unblockmusic\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ssr-plus")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用的leo大的魔改版")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 主题")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/openwrt-develop/luci-theme-atmaterial.git\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("p",[s._v("我选择的安装环境的 virtualbox，网页"),a("a",{attrs:{href:"https://www.virtualbox.org/wiki/Downloads",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载"),a("OutboundLink")],1),s._v("virtualBox 及其 Extension Pack。或者备用"),a("a",{attrs:{href:"http://download.virtualbox.org/virtualbox/",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("所以需要编译出来 vdi 格式的虚拟机格式。如果嫌编译之后的空间小，可以修改")]),s._v(" "),a("blockquote",[a("p",[s._v("Target Image -> Root filesystem partition size 选项（一般情况下是倒数第二个）")])]),s._v(" "),a("p",[s._v("还是那句话，修改这一项要注意编译空间的大小")]),s._v(" "),a("p",[s._v("如果使用的是别人提供的固件，也就是一个 img 格式的文件，可以在安装完成 virtualBox 之后在命令行下转换")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("VBoxManage convertfromraw --format VDI openwrt-x86-64-combined-squashfs.img openwrt-x86-64-combined-squashfs.vdi\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果报错，用 dd 命令重新整合一下，"),a("a",{attrs:{href:"https://openwrt.org/zh/docs/guide-user/virtualization/virtualbox-vm",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考"),a("OutboundLink")],1)]),s._v(" "),a("blockquote",[a("p",[s._v("dd if=openwrt-x86-64-combined-squashfs.img of=openwrt.img bs=128000 conv=sync")])]),s._v(" "),a("ul",[a("li",[s._v("创建虚拟机")])]),s._v(" "),a("p",[s._v("选择刚才生成的 vdi 文件，这一步网上都有教程。在设置中添加网卡，选择桥接模式，高级设置中混杂模式改为全部允许。")]),s._v(" "),a("p",[s._v("添加一块额外的 vdi 磁盘")]),s._v(" "),a("ul",[a("li",[s._v("启动虚拟机")])]),s._v(" "),a("p",[s._v("大概一分钟启动好了之后，通过"),a("code",[s._v("vi /etc/config/network")]),s._v("修改 lan 口地址。")]),s._v(" "),a("p",[s._v("这样基本就安装好了")]),s._v(" "),a("h2",{attrs:{id:"配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),a("h3",{attrs:{id:"镜像源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#镜像源"}},[s._v("#")]),s._v(" 镜像源")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 中科大\nhttps://openwrt.proxy.ustclug.org/\n# 韩国\nhttps://mirror.0x.sg/openwrt/\n清华大学的LEDE镜像站\nhttps://mirrors.cnnic.cn/lede/releases/\n浙江大学 | OPENWRT | 开源镜像站地址\nhttp://mirrors.zju.edu.cn/openwrt/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"挂载硬盘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#挂载硬盘"}},[s._v("#")]),s._v(" 挂载硬盘")]),s._v(" "),a("p",[s._v("参考这一篇"),a("a",{attrs:{href:"https://blog.csdn.net/xiexievv/article/details/50525783",target:"_blank",rel:"noopener noreferrer"}},[s._v("文章"),a("OutboundLink")],1),s._v("，将多添加的磁盘挂载到虚拟机")]),s._v(" "),a("h3",{attrs:{id:"联网"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#联网"}},[s._v("#")]),s._v(" 联网")]),s._v(" "),a("p",[s._v("在"),a("code",[s._v("网络 > 接口")]),s._v("下选择 wan 口，进行拨号上网，lan 口不需要太多的设置")]),s._v(" "),a("p",[s._v("如果不能上网，在"),a("code",[s._v("网络 > 防火墙 > 自定义规则")]),s._v("下添加"),a("code",[s._v("iptables -t nat -I POSTROUTING -j MASQUERADE")])]),s._v(" "),a("h4",{attrs:{id:"单臂主路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单臂主路由"}},[s._v("#")]),s._v(" 单臂主路由")]),s._v(" "),a("ul",[a("li",[s._v("接线方法：没有交换机的情况下，可以利用多网口路由器代替。")])]),s._v(" "),a("p",[a("code",[s._v("光猫")]),s._v("和软路由都连接"),a("code",[s._v("路由器lan口")]),s._v("或者"),a("code",[s._v("交换机")])]),s._v(" "),a("ul",[a("li",[s._v("软路由设置")])]),s._v(" "),a("p",[s._v("进入到网络-接口，设置 LAN 口，去掉桥接，物理设置中选择 eth0。设置 WAN 口，选择刚才 LAN 口的接口")]),s._v(" "),a("h3",{attrs:{id:"aliddns"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aliddns"}},[s._v("#")]),s._v(" aliddns")]),s._v(" "),a("p",[s._v("使用 aliddns 的一个前提是拨号需要得到一个公网 IP，没有公网 IP 就放弃吧，改用 frp")]),s._v(" "),a("p",[s._v("购买阿里云域名之后，还需要创建 Access Key ID。")]),s._v(" "),a("h3",{attrs:{id:"ssr-plus"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssr-plus"}},[s._v("#")]),s._v(" SSR plus +")]),s._v(" "),a("p",[s._v("看指示就行，运行模式选择 GFW 就行，解析模式选则 dnsforwarder UDP")]),s._v(" "),a("h3",{attrs:{id:"netdata"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#netdata"}},[s._v("#")]),s._v(" netdata")]),s._v(" "),a("p",[s._v("一般固件内没有包含，需要手动安装")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("opkg "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" netdata\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("安装完成之后打开端口 19999 端口查看")]),s._v(" "),a("p",[s._v("看上去就像这样")]),s._v(" "),a("p",[a("img",{attrs:{src:t(349),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"aria2-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aria2-配置"}},[s._v("#")]),s._v(" aria2 配置")]),s._v(" "),a("p",[s._v("附加选项添加一项，"),a("code",[s._v("check-certificate=false")]),s._v("，用户组选择 root 用户，任务设置中"),a("code",[s._v("单服务器最大链接数")]),s._v("填 13。")]),s._v(" "),a("p",[s._v("bt 配置，"),a("a",{attrs:{href:"https://newtrackon.com/list",target:"_blank",rel:"noopener noreferrer"}},[s._v("tracker list"),a("OutboundLink")],1),s._v("，"),a("a",{attrs:{href:"https://github.com/ngosang/trackerslist",target:"_blank",rel:"noopener noreferrer"}},[s._v("trackerslist"),a("OutboundLink")],1),s._v("。加快下载速度")]),s._v(" "),a("p",[s._v("如果下载不了，就重启一下 aria2。在"),a("code",[s._v("系统 -> 启动项")]),s._v("中选择重启，或者在命令行中执行"),a("code",[s._v("arai2c -c --conf-path=/tmp/etc/aria2/aria2.conf.main")])]),s._v(" "),a("p",[s._v("参考橘子大神的"),a("a",{attrs:{href:"https://www.youtube.com/watch?v=nMIVGr_mhQg&t=1428s",target:"_blank",rel:"noopener noreferrer"}},[s._v("视频"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"acc-网络加速"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acc-网络加速"}},[s._v("#")]),s._v(" acc 网络加速")]),s._v(" "),a("p",[s._v("在"),a("a",{attrs:{href:"https://www.shurouwang.com/article/214.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("地址"),a("OutboundLink")],1),s._v("获取")]),s._v(" "),a("p",[s._v("上游 DNS"),a("code",[s._v("114.114.114.114,114.114.115.115,114.114.114.119,114.114.115.119,114.114.114.110,114.114.115.110,223.5.5.5,223.6.6.6,180.76.76.76,101.198.198.198,101.198.199.200,119.29.29.29,119.28.28.28,182.254.118.118,182.254.116.116,1.2.4.8,210.2.4.8,117.50.11.11,117.50.22.22,117.50.10.10,117.50.20.20,101.226.4.6,218.30.118.6,123.125.81.6,140.207.198.6,202.141.162.123,202.141.178.13,202.38.93.153,202.141.176.93,101.132.183.99,193.112.15.186,63.223.94.66,123.206.61.167,119.29.105.234,101.236.28.23,120.77.212.84,123.207.137.88,115.159.220.214,115.159.146.99,123.206.21.48,101.6.6.6,40.73.101.101,115.159.154.226,47.99.165.31,182.254.242.15,101.101.101.101,101.102.103.104,203.80.96.10,203.80.96.9,202.55.11.100,202.55.21.85,112.121.178.187,168.95.192.1,168.95.1.1,202.45.84.58,1.1.1.1,1.0.0.1,176.103.130.130,176.103.130.131,176.103.130.132,176.103.130.134,8.8.8.8,8.8.4.4,4.2.2.1,4.2.2.2,9.9.9.9,8.26.56.26,8.20.247.20,199.91.73.222,178.79.131.110,208.67.222.222,208.67.220.220,208.67.222.123,208.67.220.123,156.154.70.1,156.154.71.1,199.85.126.10,199.85.127.10,64.6.64.6,64.6.65.6,216.146.35.35,216.146.36.36,80.80.80.80,80.80.81.81,77.88.8.8,77.88.8.1,77.88.8.8,77.88.8.2,77.88.8.7,77.88.8.3,103.197.104.178,103.197.106.75,203.189.136.148,74.82.42.42,66.220.18.42,203.112.2.4,84.200.69.80,84.200.70.40,195.46.39.39,195.46.39.40,109.69.8.51,168.126.63.1,168.126.63.2,168.126.63.1,168.126.63.2,210.220.163.82,219.250.36.130,164.124.101.2,203.248.252.2,164.124.107.9,203.248.242.2,207.148.107.4,185.222.222.222,185.184.222.222")])]),s._v(" "),a("h3",{attrs:{id:"可道云"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可道云"}},[s._v("#")]),s._v(" 可道云")]),s._v(" "),a("h3",{attrs:{id:"jetbrains-授权服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jetbrains-授权服务器"}},[s._v("#")]),s._v(" JetBrains 授权服务器")]),s._v(" "),a("p",[s._v("更多"),a("a",{attrs:{href:"https://www.mivm.cn/?s=openwrt",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"安装-npm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-npm"}},[s._v("#")]),s._v(" 安装 npm")]),s._v(" "),a("p",[s._v("1、 从"),a("a",{attrs:{href:"https://registry.npmmirror.com/binary.html?path=npm",target:"_blank",rel:"noopener noreferrer"}},[s._v("淘宝镜像"),a("OutboundLink")],1),s._v("上下载包")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://registry.npmmirror.com/-/binary/npm/v6.9.2/v6.9.2.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("2、解压后，修改包中"),a("code",[s._v("bin/npm")]),s._v("文件，")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/sh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("set -o igncr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v("/dev/null "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -o igncr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cygwin encoding fix")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("basedir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dirname")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v('"')]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n    *CYGWIN*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("basedir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("cygpath -w "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$basedir")]),s._v('"')]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NODE_EXE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$basedir")]),s._v('/node.exe"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -x "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NODE_EXE")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NODE_EXE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("node\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改成绝对路径")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NPM_CLI_JS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/download/npm/bin/npm-cli.js"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n  *MINGW*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NPM_PREFIX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v('"$NODE_EXE'),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" "')]),s._v('$NPM_CLI_JS" prefix -g'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NPM_PREFIX_NPM_CLI_JS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NPM_PREFIX")]),s._v('/node_modules/npm/bin/npm-cli.js"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -f "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NPM_PREFIX_NPM_CLI_JS")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NPM_CLI_JS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NPM_PREFIX_NPM_CLI_JS")]),s._v('"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  *CYGWIN*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NPM_PREFIX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v('"$NODE_EXE'),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" "')]),s._v('$NPM_CLI_JS" prefix -g'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NPM_PREFIX_NPM_CLI_JS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NPM_PREFIX")]),s._v('/node_modules/npm/bin/npm-cli.js"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -f "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NPM_PREFIX_NPM_CLI_JS")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NPM_CLI_JS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NPM_PREFIX_NPM_CLI_JS")]),s._v('"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NODE_EXE")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NPM_CLI_JS")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("\n~\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br")])]),a("blockquote",[a("p",[s._v("如果出现无法保存的问题，可能是因为磁盘空间不够，将包拷贝到一个剩余空间足够的分区下编辑")])]),s._v(" "),a("p",[s._v("3、创建软连接")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /npm/bin/npm /usr/bin\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("4、修改 npm 全局安装模式的路径")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" prefix "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D:\\Software'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v("odejs"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('ode_global"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" cache "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D:\\Software'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v("odejs"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('ode_cache"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"nanopi-wrt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nanopi-wrt"}},[s._v("#")]),s._v(" nanopi-wrt")]),s._v(" "),a("h3",{attrs:{id:"设置静态地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置静态地址"}},[s._v("#")]),s._v(" 设置静态地址")]),s._v(" "),a("h4",{attrs:{id:"方法-1-不使用-networkmanager-管理-手动设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法-1-不使用-networkmanager-管理-手动设置"}},[s._v("#")]),s._v(" 方法 1：不使用 NetworkManager 管理，手动设置")]),s._v(" "),a("p",[s._v("以下文字介绍不使用 NetworkManager 来管理网络，改为手动设置，设置静态 IP 更灵活：\n编辑 NetworkManger.conf，将 ifupdown 中的 managed 设置为 false，如下所示：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/NetworkManager/NetworkManager.conf\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ifupdown"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("managed")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("false\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("再将网络设置加入 /etc/network/interfaces 即可：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/network/interfaces\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("/etc/network/interfaces 文件内容如下：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The loopback network interface")]),s._v("\nauto lo\niface lo inet loopback\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# network interface not managed by Network Manager")]),s._v("\nallow-hotplug eth0\niface eth0 inet static\naddress "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".2.199\nnetmask "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0\ngateway "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".2.1\ndns-nameservers "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".2.1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h2",{attrs:{id:"docker-记录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-记录"}},[s._v("#")]),s._v(" docker 记录")]),s._v(" "),a("blockquote",[a("p",[s._v("单独使用一个硬盘挂在到/opt/docker 记录")])]),s._v(" "),a("blockquote",[a("p",[s._v("docker ps -a # 查看正在运行的镜像")])]),s._v(" "),a("blockquote",[a("p",[s._v("docker exec -it containerID /bin/bash 进入容器交互 containerID:镜像 ID")])]),s._v(" "),a("h3",{attrs:{id:"加速站点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#加速站点"}},[s._v("#")]),s._v(" 加速站点")]),s._v(" "),a("p",[s._v('"https://n2goo078.mirror.aliyuncs.com",')]),s._v(" "),a("p",[s._v('"https://1nj0zren.mirror.aliyuncs.com",')]),s._v(" "),a("p",[s._v('"https://docker.mirrors.ustc.edu.cn",')]),s._v(" "),a("p",[s._v("https://registry.docker-cn.com")]),s._v(" "),a("p",[s._v("http://hub-mirror.c.163.com")]),s._v(" "),a("p",[s._v("https://3laho3y3.mirror.aliyuncs.com")]),s._v(" "),a("p",[s._v("http://f1361db2.m.daocloud.io")]),s._v(" "),a("p",[s._v("https://mirror.ccs.tencentyun.com")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/docker/daemon.json\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"registry-mirrors"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://registry.docker-cn.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("安装 kodexplorer")])]),s._v(" "),a("blockquote",[a("p",[s._v("docker run --restart=always -d -p 8081:80 --name kodexplorer -v /download/kod:/code baiyuetribe/kodexplorer:latest")])]),s._v(" "),a("ul",[a("li",[s._v("jellyfin")])]),s._v(" "),a("p",[s._v("因为之前已经安装过 kodexplorer，所以直接哪 kod 里面的路径做一个软连接到/download/jellyfin/video")]),s._v(" "),a("blockquote",[a("p",[s._v("docker run --restart=always -d -p 8096:8096 -v /download/jellyfin/config:/config -v /download/jellyfin/videos:/videos jellyfin/jellyfin:latest -name jellyfin")])]),s._v(" "),a("ul",[a("li",[s._v("dos 游戏")])]),s._v(" "),a("blockquote",[a("p",[s._v("docker run -d --name dosgame -p 262:262 oldiy/dosgame-web-docker:latest")])]),s._v(" "),a("ul",[a("li",[s._v("临时邮箱")])]),s._v(" "),a("blockquote",[a("p",[s._v("docker run --name forsaken-mail -itd -p 25:25 -p 3000:3000 rockmaity/forsaken-mail")])]),s._v(" "),a("ul",[a("li",[s._v("docker-pan")])]),s._v(" "),a("blockquote",[a("p",[s._v("docker run --name=pan -v /opt/data:/var/www/html/system/data/default_home_folder -dti -p 8082:80 -p 6800:6800 jaegerdocker/pan")])]),s._v(" "),a("ul",[a("li",[s._v("人人影视")])]),s._v(" "),a("blockquote",[a("p",[s._v("docker run -d --name rrshare -p 3001:3001 -v /videos:/opt/work/store oldiy/rrshare64:latest")])]),s._v(" "),a("ul",[a("li",[s._v("syncthing")])]),s._v(" "),a("blockquote",[a("p",[s._v("docker run -it -p 8384:8384 -p 22000:22000 -v /opt/data/syncthing/config:/var/syncthing/config -v /opt/data/syncthing:/var/syncthing syncthing/syncthing:latest")])]),s._v(" "),a("blockquote",[a("p",[s._v("aria2")])]),s._v(" "),a("ul",[a("li",[s._v("docker run -d --name aria2 -p 5003:80 -v /opt/data/aria2:/data -v /opt/data/aria2:/conf -e PUID=1000 -e PGID=1000 -e EXTERNAL_PORT=5003 -e USER_NAME=bianqu -e PASSWORD=123123 sanjusss/aria2-ariang-docker")]),s._v(" "),a("li",[s._v("docker run -d --name aria2 -p 5003:80 -v /opt/data/aria2:/data sanjusss/aria2-ariang-docker 用户名、密码默认 admin")])]),s._v(" "),a("h3",{attrs:{id:"解除容器网络占用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解除容器网络占用"}},[s._v("#")]),s._v(" 解除容器网络占用")]),s._v(" "),a("blockquote",[a("p",[s._v("docker network disconnect --force bridge [name]")])]),s._v(" "),a("p",[s._v("查看网络占用")]),s._v(" "),a("blockquote",[a("p",[s._v("docker network inspect bridge")])])])}),[],!1,null,null,null);a.default=e.exports}}]);