(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{433:function(e,a,n){"use strict";n.r(a);var s=n(14),r=Object(s.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"解决xcode12不兼容rn的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决xcode12不兼容rn的问题"}},[e._v("#")]),e._v(" 解决XCode12不兼容rn的问题")]),e._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://github.com/facebook/react-native/issues/31412",target:"_blank",rel:"noopener noreferrer"}},[e._v("Build failed after update Xcode 12.5 beta Cannot initialize a parameter of type 'NSArray> *' with an rvalue of type 'NSArray *' · Issue #31412 · facebook/react-native · GitHub"),a("OutboundLink")],1)])]),e._v(" "),a("p",[e._v("在Podfile中添加如下代码")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('post_install do |installer|\n  ## Fix for XCode 12.5\n  find_and_replace(\n  "../node_modules/react-native/React/CxxBridge/RCTCxxBridge.mm",\n  "_initializeModules:(NSArray<id<RCTBridgeModule>> *)modules", \n  "_initializeModules:(NSArray<Class> *)modules")\n  \n  find_and_replace(\n  "../node_modules/react-native/ReactCommon/turbomodule/core/platform/ios/RCTTurboModuleManager.mm",\n  "RCTBridgeModuleNameForClass(module))", \n  "RCTBridgeModuleNameForClass(Class(module)))"\n  )\n  \n  # 这里是解决ios14图片无法显示的问题，也可以将rn升级到0.63来解决\n  find_and_replace(\n  "../node_modules/react-native/Libraries/Image/RCTUIImageViewAnimated.m",\n  "- (void)displayLayer:(CALayer *)layer", \n  "- (void) displayLayer:(CALayer *)layer {\n  if (_currentFrame) {\n    layer.contentsScale = self.animatedImageScale;\n    layer.contents = (__bridge id)_currentFrame.CGImage;\n  }else {\n    [super displayLayer:layer];\n  }\n}\n- (void)displayLayer1:(CALayer *)layer"\n  )\nend\n  \ndef find_and_replace(dir, findstr, replacestr)\n  Dir[dir].each do |name|\n      text = File.read(name)\n      replace = text.gsub(findstr,replacestr)\n      if text != replace\n          puts "Fix: " + name\n          File.open(name, "w") { |file| file.puts replace }\n          STDOUT.flush\n      end\n  end\n  Dir[dir + \'*/\'].each(&method(:find_and_replace))\nend\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br"),a("span",{staticClass:"line-number"},[e._v("19")]),a("br"),a("span",{staticClass:"line-number"},[e._v("20")]),a("br"),a("span",{staticClass:"line-number"},[e._v("21")]),a("br"),a("span",{staticClass:"line-number"},[e._v("22")]),a("br"),a("span",{staticClass:"line-number"},[e._v("23")]),a("br"),a("span",{staticClass:"line-number"},[e._v("24")]),a("br"),a("span",{staticClass:"line-number"},[e._v("25")]),a("br"),a("span",{staticClass:"line-number"},[e._v("26")]),a("br"),a("span",{staticClass:"line-number"},[e._v("27")]),a("br"),a("span",{staticClass:"line-number"},[e._v("28")]),a("br"),a("span",{staticClass:"line-number"},[e._v("29")]),a("br"),a("span",{staticClass:"line-number"},[e._v("30")]),a("br"),a("span",{staticClass:"line-number"},[e._v("31")]),a("br"),a("span",{staticClass:"line-number"},[e._v("32")]),a("br"),a("span",{staticClass:"line-number"},[e._v("33")]),a("br"),a("span",{staticClass:"line-number"},[e._v("34")]),a("br"),a("span",{staticClass:"line-number"},[e._v("35")]),a("br"),a("span",{staticClass:"line-number"},[e._v("36")]),a("br"),a("span",{staticClass:"line-number"},[e._v("37")]),a("br"),a("span",{staticClass:"line-number"},[e._v("38")]),a("br"),a("span",{staticClass:"line-number"},[e._v("39")]),a("br"),a("span",{staticClass:"line-number"},[e._v("40")]),a("br"),a("span",{staticClass:"line-number"},[e._v("41")]),a("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);