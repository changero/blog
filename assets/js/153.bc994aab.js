(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{499:function(t,e,a){"use strict";a.r(e);var s=a(14),n=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"什么是-bundless"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是-bundless"}},[t._v("#")]),t._v(" 什么是 Bundless")]),t._v(" "),e("p",[t._v("如今有许多现代打包器，它们都提供了对"),e("code",[t._v("ES Module")]),t._v("和"),e("code",[t._v("Commonjs")]),t._v("模块的支持，可以根据依赖对模块进行打包并生成一个 Bundle 文件。但有的时候，我们并不总是需要将代码打包成一个 Bundle，这就是 Bundless。比如："),e("code",[t._v("tsc")]),t._v("、"),e("code",[t._v("@babel/cli")]),t._v("以及"),e("code",[t._v("mkdist")]),t._v("等工具")]),t._v(" "),e("h2",{attrs:{id:"mkdist"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mkdist"}},[t._v("#")]),t._v(" mkdist")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/unjs/mkdist",target:"_blank",rel:"noopener noreferrer"}},[t._v("mkdist"),e("OutboundLink")],1),t._v(" 是一个轻量级的文件到文件转换器")]),t._v(" "),e("ul",[e("li",[t._v("复制所有资源")]),t._v(" "),e("li",[t._v("支持对 Vue 但文件组件进行转换")]),t._v(" "),e("li",[t._v("基于 "),e("code",[t._v("esbuild")]),t._v(" 实现快速且最小的转换")]),t._v(" "),e("li",[t._v("支持"),e("code",[t._v("ts")]),t._v("、"),e("code",[t._v("js")]),t._v("和"),e("code",[t._v("vue")]),t._v("文件")])]),t._v(" "),e("p",[t._v("与 tsc 和 babel 的区别在于，它们主要专注于转译而不是保持源代码级别的质量，此外缺乏对 vue 文件的支持")]),t._v(" "),e("h3",{attrs:{id:"简单使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简单使用"}},[t._v("#")]),t._v(" 简单使用")]),t._v(" "),e("p",[t._v("安装")]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" mkdist -D\n\nnpx mkdist\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v("有几个比较重要的参数")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("--src")]),t._v("，打包的源文件夹，默认:src")]),t._v(" "),e("li",[e("code",[t._v("--dist")]),t._v("，打包生成的目标文件夹，默认:dist")]),t._v(" "),e("li",[e("code",[t._v("--format")]),t._v("，目标文件格式，默认:esm，可以指定为 cjs")]),t._v(" "),e("li",[e("code",[t._v("--ext")]),t._v("，支持的文件后缀，默认: ts|js|mjs")])]),t._v(" "),e("p",[e("strong",[t._v("需要注意的是，mkdist 不会做多余的语法转换的动作")])]),t._v(" "),e("h2",{attrs:{id:"unbuild"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#unbuild"}},[t._v("#")]),t._v(" unbuild")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/unjs/unbuild",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("unbuild")]),e("OutboundLink")],1),t._v("是一个统一的 javascript 构建系统，基于 rollup，支持 typescript 并生成其类型声明文件")]),t._v(" "),e("ul",[e("li",[t._v("Bundless，基于"),e("code",[t._v("mkdist")]),t._v("完成文件到文件的转换")]),t._v(" "),e("li",[t._v("typescript，利用"),e("a",{attrs:{href:"https://github.com/unjs/jiti",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("jiti")]),e("OutboundLink")],1),t._v("来支持在 nodejs 下的 typescript 运行时")])]),t._v(" "),e("h3",{attrs:{id:"使用方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用方法"}},[t._v("#")]),t._v(" 使用方法")]),t._v(" "),e("p",[t._v("安装")]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" unbuild -D\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("创建"),e("code",[t._v("build.config.js")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("entries")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./src/index.js"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v("unbuild 的配置可以在"),e("code",[t._v("package.json")]),t._v("中指定"),e("code",[t._v("unbuild")]),t._v("字段，或者创建"),e("code",[t._v("build.config.{js,ts,json}")]),t._v("配置文件")]),t._v(" "),e("p",[t._v("例如 build.config.ts")]),t._v(" "),e("div",{staticClass:"language-ts line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-ts"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineBuildConfig "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unbuild"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineBuildConfig")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entries"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./src/index"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("h3",{attrs:{id:"参数说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参数说明"}},[t._v("#")]),t._v(" 参数说明")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("参数名")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("说明")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("name")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("rootDir")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("entries")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("入口文件,如果配有在配置文件中申明，将从 package.json 中读取")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("a",{attrs:{href:"https://github.com/unjs/unbuild/blob/main/src/types.ts#L40",target:"_blank",rel:"noopener noreferrer"}},[t._v("BuildEntry"),e("OutboundLink")],1),t._v("[]")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("outDir")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("输入目录")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("dist")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("declaration")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是否输出申明文件")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("false")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("clean")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是否每次构建的时候进行清理")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("false")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("stub")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("false")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("externals")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("排除的文件")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Array")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("dependencies")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Array")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("peerDependencies")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Array")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("devDependencies")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Array")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("alias")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("别名")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("replace")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("failOnWarn")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("出现警告失败")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("rollup")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("rollup 的配置项")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("a",{attrs:{href:"https://github.com/unjs/unbuild/blob/main/src/types.ts#L42",target:"_blank",rel:"noopener noreferrer"}},[t._v("RollupBuildOptions"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})])])]),t._v(" "),e("h4",{attrs:{id:"buildentry-说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#buildentry-说明"}},[t._v("#")]),t._v(" BuildEntry 说明")]),t._v(" "),e("ul",[e("li",[t._v("builder，构建器，支持"),e("code",[t._v("untyped")]),t._v("、"),e("code",[t._v("rollup")]),t._v("、"),e("code",[t._v("mkdist")])]),t._v(" "),e("li",[t._v("input，入口目录")]),t._v(" "),e("li",[t._v("name,")]),t._v(" "),e("li",[t._v("outDir, 输入目录")]),t._v(" "),e("li",[t._v("declaration，是否输出类型声明文件")])]),t._v(" "),e("p",[t._v("以下参数为"),e("code",[t._v("builder: mkdist")]),t._v("拥有")]),t._v(" "),e("ul",[e("li",[t._v("format，打包格式，可选："),e("code",[t._v("esm")]),t._v("，"),e("code",[t._v("cjs")])]),t._v(" "),e("li",[t._v("ext, 文件扩展，可选："),e("code",[t._v("cjs")]),t._v("，"),e("code",[t._v("mjs")]),t._v("，"),e("code",[t._v("js")]),t._v("，"),e("code",[t._v("ts")])])]),t._v(" "),e("p",[t._v("以下参数为"),e("code",[t._v("builder: untyped")]),t._v("拥有")]),t._v(" "),e("ul",[e("li",[t._v("defaults，类型："),e("code",[t._v("Record<string, any>")])])]),t._v(" "),e("h2",{attrs:{id:"father"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#father"}},[t._v("#")]),t._v(" father")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/umijs/father/blob/master/docs/guide/index.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("father"),e("OutboundLink")],1),t._v("是 umijs 团队开发的打包工具，集成了多种打包方式。包括 Bundle、Bundless，支持 cjs、umd 和 esm 等格式")]),t._v(" "),e("h3",{attrs:{id:"快速上手"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#快速上手"}},[t._v("#")]),t._v(" 快速上手")]),t._v(" "),e("p",[t._v("通过"),e("code",[t._v("create-father")]),t._v("快速生成一个 father 项目")]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" create father father-demo\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("执行"),e("code",[t._v("yarn build")]),t._v("即可完成构建")]),t._v(" "),e("p",[t._v("构建参数查看"),e("a",{attrs:{href:"https://github.com/umijs/father/blob/master/docs/config.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档"),e("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=n.exports}}]);