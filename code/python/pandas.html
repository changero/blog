<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>pandas | 编程小兵</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="路漫漫其修远兮，吾将上下而求索">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/css/0.styles.f1c3a865.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/app.03a08a11.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/3.2b593545.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/164.59d1735d.js" as="script"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/10.3c93f85b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/100.7f414aae.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/101.2348dd18.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/102.8af3f469.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/103.8bb649de.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/104.d64fb347.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/105.ce0c9777.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/106.11da9663.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/107.6acbdc97.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/108.522fe21c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/109.a5bba632.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/11.ebed3f6f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/110.8f156d97.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/111.86c67076.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/112.5f49a31b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/113.b26c7462.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/114.696b6195.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/115.2af18a7e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/116.e95ec34b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/117.1dc05831.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/118.5dbd64d6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/119.49418e53.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/12.cd6b919a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/120.4fcffafe.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/121.e9e032e8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/122.60e037d9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/123.31fd7f53.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/124.254abdee.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/125.3cbe3455.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/126.60d98d65.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/127.cd76235a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/128.5cd53b9c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/129.74c81192.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/13.d3406d66.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/130.9b74fda3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/131.1fab962e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/132.bb81e1a5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/133.94586e72.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/134.4ef040b8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/135.d2982bab.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/136.2ba31a05.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/137.299dac49.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/138.30c41acb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/139.eeb4e298.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/14.b7b3520d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/140.0f0f8a8d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/141.67b75bcc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/142.e95b1380.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/143.81e92e93.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/144.96d2cd63.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/145.55a54f9b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/146.1e0e4953.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/147.2db0addc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/148.dc37b068.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/149.b5354a4c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/15.adead415.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/150.5dcd2ab8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/151.8357eebe.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/152.667a6f6a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/153.bc994aab.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/154.86570747.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/155.a2a0d4fd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/156.61782a3b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/157.f59cfc6d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/158.0f57c646.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/159.8d0a1739.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/16.3544c358.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/160.48cbf202.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/161.eb7e545f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/162.e4ea72d1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/163.e46cc598.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/165.6c85b5c7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/166.5c1d7f30.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/167.bb9c87a5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/168.63c70fd6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/169.c082d58b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/17.d70afb94.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/170.691c62bb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/171.e461bfff.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/172.cd727d86.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/173.6d2f51bf.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/174.e9a00beb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/175.2023cb01.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/176.def07199.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/177.29f50ff6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/178.3dfef38b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/179.4a00d540.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/18.d6e9fd63.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/180.1bc4c639.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/181.ee4d4b4a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/182.e327e124.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/183.94d61f56.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/184.641beef6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/185.e89df33e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/186.33ca1636.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/187.27e9b734.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/188.a9718893.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/189.21aa469c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/19.9eb46e36.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/190.1102ac4e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/191.117892d3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/192.5ee14712.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/193.e886b9a7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/194.bbcbf647.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/195.35930876.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/196.6b417531.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/197.eb7df7db.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/198.b95c627a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/199.a0fad090.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/2.948e236e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/20.06ec23d0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/200.b9a3c912.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/201.ea81c5d7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/202.bedf7c48.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/203.43c72de0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/204.9c02e833.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/205.850f2d2d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/206.40e6135c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/207.bfe34217.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/208.a35aa765.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/209.f701b600.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/21.c7310922.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/210.f061322f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/211.e834fce2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/22.a1625bb5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/23.6267640b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/24.1696d1e8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/25.c4c34c07.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/26.54468745.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/27.22f30c94.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/28.fd7f6d68.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/29.376af419.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/30.259ca070.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/31.1f391c2e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/32.0e2aef91.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/33.bdd940e3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/34.5e9ebf1a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/35.5f690222.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/36.6d527b07.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/37.92a94efa.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/38.ccb8d5c4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/39.6e88d2db.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/4.9fca145c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/40.b4f4bc7a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/41.024ab758.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/42.8aa4f572.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/43.2f721fd6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/44.fc4763d0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/45.ce43007f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/46.cc56f930.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/47.7cff0305.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/48.4a64fde0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/49.92b28a8d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/5.afe584f1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/50.bb382a13.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/51.1796af05.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/52.3a52b0c8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/53.e4527fb1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/54.23cd3cbd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/55.0160435a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/56.0af7bbe2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/57.b81f2a64.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/58.1a8c6276.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/59.11c44d96.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/6.9c204179.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/60.e78e9edc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/61.9d75209e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/62.d9f26614.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/63.df8b3b78.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/64.9b2f3798.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/65.0422633e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/66.e9465fb5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/67.ef504779.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/68.0d2a9987.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/69.a18bc029.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/7.23f16619.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/70.7b55a276.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/71.37d3a981.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/72.a4bf3fe5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/73.9eec09bc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/74.a3152b49.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/75.cc45d0ab.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/76.baaef140.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/77.ccb60a9a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/78.9890fb43.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/79.6355e3b0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/8.08d1e0f6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/80.163254c4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/81.8f67b062.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/82.e187c6c5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/83.567090ad.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/84.05f67456.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/85.a8363035.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/86.ad1f37ee.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/87.1b5b8331.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/88.a55c2a56.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/89.f76e674f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/9.013d5b21.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/90.379e76c0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/91.67d52c2a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/92.d61adf71.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/93.f04d9e7f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/94.9c76f5da.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/95.9b8ace03.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/96.64e73c2e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/97.ee2b3ef1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/98.e106b68f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/99.9f8cc9f5.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/css/0.styles.f1c3a865.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/hero.png" alt="编程小兵" class="logo"> <span class="site-name can-hide">编程小兵</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/share/" class="nav-link">
  分享
</a></div><div class="nav-item"><a href="/read/" class="nav-link">
  记录
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程" class="dropdown-title"><span class="title">编程</span> <span class="arrow down"></span></button> <button type="button" aria-label="编程" class="mobile-dropdown-title"><span class="title">编程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/code/basic/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/code/frontend/" class="nav-link">
  frontend
</a></li><li class="dropdown-item"><!----> <a href="/code/node/" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/code/tools/" class="nav-link">
  tools
</a></li><li class="dropdown-item"><!----> <a href="/code/rxjs/" class="nav-link">
  rxjs
</a></li><li class="dropdown-item"><!----> <a href="/code/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/code/docker/" class="nav-link">
  docker
</a></li><li class="dropdown-item"><!----> <a href="/code/electron/" class="nav-link">
  electron
</a></li><li class="dropdown-item"><!----> <a href="/code/python/" class="nav-link router-link-active">
  python
</a></li><li class="dropdown-item"><!----> <a href="/code/android/" class="nav-link">
  android
</a></li><li class="dropdown-item"><!----> <a href="/code/flutter/" class="nav-link">
  flutter
</a></li><li class="dropdown-item"><!----> <a href="/code/other/" class="nav-link">
  其他
</a></li><li class="dropdown-item"><!----> <a href="/code/db/" class="nav-link">
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/code/network/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/code/linux/linux学习笔记.html" class="nav-link">
  linux
</a></li></ul></div></div><div class="nav-item"><a href="/navs/" class="nav-link">
  资源导航
</a></div><div class="nav-item"><a href="mailto://changero@126.com" class="nav-link external">
  联系我
  <!----></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/share/" class="nav-link">
  分享
</a></div><div class="nav-item"><a href="/read/" class="nav-link">
  记录
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程" class="dropdown-title"><span class="title">编程</span> <span class="arrow down"></span></button> <button type="button" aria-label="编程" class="mobile-dropdown-title"><span class="title">编程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/code/basic/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/code/frontend/" class="nav-link">
  frontend
</a></li><li class="dropdown-item"><!----> <a href="/code/node/" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/code/tools/" class="nav-link">
  tools
</a></li><li class="dropdown-item"><!----> <a href="/code/rxjs/" class="nav-link">
  rxjs
</a></li><li class="dropdown-item"><!----> <a href="/code/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/code/docker/" class="nav-link">
  docker
</a></li><li class="dropdown-item"><!----> <a href="/code/electron/" class="nav-link">
  electron
</a></li><li class="dropdown-item"><!----> <a href="/code/python/" class="nav-link router-link-active">
  python
</a></li><li class="dropdown-item"><!----> <a href="/code/android/" class="nav-link">
  android
</a></li><li class="dropdown-item"><!----> <a href="/code/flutter/" class="nav-link">
  flutter
</a></li><li class="dropdown-item"><!----> <a href="/code/other/" class="nav-link">
  其他
</a></li><li class="dropdown-item"><!----> <a href="/code/db/" class="nav-link">
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/code/network/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/code/linux/linux学习笔记.html" class="nav-link">
  linux
</a></li></ul></div></div><div class="nav-item"><a href="/navs/" class="nav-link">
  资源导航
</a></div><div class="nav-item"><a href="mailto://changero@126.com" class="nav-link external">
  联系我
  <!----></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>相关库</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/python/numpy.html" class="sidebar-link">numpy</a></li><li><a href="/code/python/pandas.html" aria-current="page" class="active sidebar-link">pandas</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/python/pandas.html#数据读取" class="sidebar-link">数据读取</a></li><li class="sidebar-sub-header"><a href="/code/python/pandas.html#dataframe-series" class="sidebar-link">DataFrame &amp; Series</a></li><li class="sidebar-sub-header"><a href="/code/python/pandas.html#数据查询" class="sidebar-link">数据查询</a></li><li class="sidebar-sub-header"><a href="/code/python/pandas.html#新增数据" class="sidebar-link">新增数据</a></li><li class="sidebar-sub-header"><a href="/code/python/pandas.html#数据统计函数" class="sidebar-link">数据统计函数</a></li><li class="sidebar-sub-header"><a href="/code/python/pandas.html#缺省值处理" class="sidebar-link">缺省值处理</a></li><li class="sidebar-sub-header"><a href="/code/python/pandas.html#排序" class="sidebar-link">排序</a></li><li class="sidebar-sub-header"><a href="/code/python/pandas.html#关于str" class="sidebar-link">关于str</a></li><li class="sidebar-sub-header"><a href="/code/python/pandas.html#合并dataframe" class="sidebar-link">合并DataFrame</a></li><li class="sidebar-sub-header"><a href="/code/python/pandas.html#时间对象处理" class="sidebar-link">时间对象处理</a></li><li class="sidebar-sub-header"><a href="/code/python/pandas.html#绘制" class="sidebar-link">绘制</a></li></ul></li><li><a href="/code/python/matplotlib.html" class="sidebar-link">matpoltlib</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="数据读取"><a href="#数据读取" class="header-anchor">#</a> 数据读取</h2> <p>pandas需要读取表格类型的数据</p> <blockquote><p>需要安装openpyxl</p></blockquote> <table><thead><tr><th>数据类型</th> <th>说明</th> <th>pandas读取方法</th></tr></thead> <tbody><tr><td>csv、tsv、txt</td> <td>用逗号分割，tab分割的纯文本文件</td> <td>pd.read_csv、df.to_csv</td></tr> <tr><td>excel</td> <td>微软的xls或者xlsx文件</td> <td>pd.read_excel</td></tr> <tr><td>mysql</td> <td>关系型数据库表</td> <td>pd.read_sql</td></tr></tbody></table> <h3 id="属性"><a href="#属性" class="header-anchor">#</a> 属性</h3> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> pands <span class="token keyword">as</span> pd

rating <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'file.csv'</span><span class="token punctuation">)</span>

<span class="token comment"># 查看数据的形状</span>
rating<span class="token punctuation">.</span>shape

<span class="token comment"># 查看列名</span>
rating<span class="token punctuation">.</span>columns

<span class="token comment"># 查看索引列</span>
rating<span class="token punctuation">.</span>index

<span class="token comment"># 查看每一列的数据类型</span>
rating<span class="token punctuation">.</span>dtypes

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="read-csv参数"><a href="#read-csv参数" class="header-anchor">#</a> read_csv参数</h3> <ol><li>filepath: csv文件的路径</li> <li>sep: 指定csv文件中数据的分隔符，默认是逗号</li> <li>header： 数据中的头部，可以设置为None</li> <li>names：自定义列名（&quot;pdate&quot;,'pv', 'uv'）</li> <li>index_col：可以指定作为索引的列，或者索引的序号（0开始）</li> <li>parse_dates：可以通过数组指定要转换为时间对象的列，或者设置为True转换所有时间格式的字符串</li></ol> <h2 id="dataframe-series"><a href="#dataframe-series" class="header-anchor">#</a> DataFrame &amp; Series</h2> <ul><li>DataFrame：代表整个表格对象这个二维数据</li> <li>Series：代表一行或者一列，是个一维数据</li></ul> <h3 id="series"><a href="#series" class="header-anchor">#</a> Series</h3> <blockquote><p>Series是一种类似于一维数组的对象，它由一组数据（不同数据类型）以及一组与之相关的数据标签（即索引）组成</p></blockquote> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

s1 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">5.2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
0      1
1      a
2    5.2
'''</span>

<span class="token comment"># 自定义索引</span>
s2 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">5.2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
a      1
b      a
c    5.2
'''</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="使用字典来创建series"><a href="#使用字典来创建series" class="header-anchor">#</a> 使用字典来创建Series</h4> <div class="language-python line-numbers-mode"><pre class="language-python"><code>data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">&quot;小名&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">'address'</span><span class="token punctuation">:</span> <span class="token string">&quot;中国&quot;</span><span class="token punctuation">}</span>
s3 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
name       小名
age        18
address    中国
'''</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>s3<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
小名
'''</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s3<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
name    小名
age     18
'''</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>当对象中的index是以数字来表示的，比如在没有指定index的情况下</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>sr<span class="token operator">=</span>pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
sr<span class="token operator">=</span>sr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
5 5
6 6
...
14 14
'''</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>这样的Series就是以数字作为index的。</p> <p>在从这样的数据中通过数字取值的时候，传递的数字是解释为index的</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>sr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment"># 没有该值</span>
sr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token comment"># 5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>为了防止这样的歧义出现，pandas推荐使用两个方法来取值</p> <ul><li>loc，传递的值作为index来解释</li> <li>iloc，传递的值作为位置序号来解释</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code>sr<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span>
sr<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="空值处理"><a href="#空值处理" class="header-anchor">#</a> 空值处理</h3> <div class="language-python line-numbers-mode"><pre class="language-python"><code>s1 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span> <span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
s2 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">14</span> <span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
sr <span class="token operator">=</span> s1<span class="token operator">+</span>s2
<span class="token triple-quoted-string string">'''
a 21
b 34
c NaN
d NaN
'''</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>由于在做加法的时候，c和d在数据项中存在空值，因此结果直接返回NaN。解决办法就是使用add函数，并且做填充处理</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>s1<span class="token punctuation">.</span>add<span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment"># 与上面的结果一样</span>
s1<span class="token punctuation">.</span>add<span class="token punctuation">(</span>s2<span class="token punctuation">,</span> fill_value<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
a 21
b 34
c 30
d 29
'''</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>空值的判断</p> <ul><li>sr.isnull()，判断是否为空</li> <li>sr.notnull()，判断是否不为空</li></ul> <p>因此可以利用判断函数做过滤</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>sr<span class="token punctuation">[</span>sr<span class="token punctuation">.</span>notnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token comment"># 或者</span>
sr<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果不想去除掉空值，也可以做填充处理</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>sr<span class="token punctuation">.</span>fillna<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">#用0填充空值</span>
sr<span class="token punctuation">.</span>fillna<span class="token punctuation">(</span>sr<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#用平均值填充空值</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="rolling"><a href="#rolling" class="header-anchor">#</a> rolling</h3> <p>rolling用于在数据中滚动选值，也就是一个滑动窗口</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>sr<span class="token punctuation">.</span>rolling<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment"># 指定一个5个数据大小的窗口</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="dataframe"><a href="#dataframe" class="header-anchor">#</a> DataFrame</h3> <blockquote><p>DataFrame是一个表格类型的数据结构</p> <ul><li>每列可以是不同的值类型</li> <li>既有行索引index，也有列索引columns</li> <li>可以被看做由Series组成的字典</li></ul></blockquote> <div class="language-python line-numbers-mode"><pre class="language-python"><code>data <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'state'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'open'</span><span class="token punctuation">,</span> <span class="token string">'close'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'year'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">2022</span><span class="token punctuation">,</span> <span class="token number">2023</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'a1'</span><span class="token punctuation">,</span> <span class="token string">'b2'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
   state  year name
0   open  2022   a1
1  close  2023   b2
'''</span>

<span class="token comment"># 自定义index</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'xiaohong'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
          state  year name
xiaoming   open  2022   a1
xiaohong  close  2023   b2
'''</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="如何查询出series"><a href="#如何查询出series" class="header-anchor">#</a> 如何查询出Series</h4> <div class="language-python line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">[</span><span class="token string">'year'</span><span class="token punctuation">]</span>
<span class="token triple-quoted-string string">'''
xiaoming    2022
xiaohong    2023
'''</span>

<span class="token comment"># 查询行</span>
df<span class="token punctuation">.</span>T<span class="token punctuation">[</span><span class="token string">'xiaoming'</span><span class="token punctuation">]</span>
<span class="token triple-quoted-string string">'''
state    open
year     2022
name       a1
'''</span>
<span class="token comment"># 或者</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">'xiaoming'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 如果没有指定index，可以用切片来得到多行</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
   state  year name
1  close  2023   b2
'''</span>

<span class="token comment"># 如果查询结果是多列或者多行，就仍然是DataFrame结构</span>
df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'year'</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token triple-quoted-string string">'''
          year name
xiaoming  2022   a1
xiaohong  2023   b2
'''</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="数据查询"><a href="#数据查询" class="header-anchor">#</a> 数据查询</h2> <ol><li><code>df.loc</code> 根据行、列的标签值查询</li> <li><code>df.iloc</code> 根据行、列的数字位置查询</li> <li><code>df.where</code></li> <li><code>df.quer</code></li></ol> <blockquote><p>loc方法既能查询，又能覆盖写入</p></blockquote> <div class="language-python line-numbers-mode"><pre class="language-python"><code>cpu_list <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_excel<span class="token punctuation">(</span><span class="token string">'./cpu.xlsx'</span><span class="token punctuation">)</span>

<span class="token comment"># 将cpu名称列设置为索引</span>
cpu_list<span class="token punctuation">.</span>set_index<span class="token punctuation">(</span><span class="token string">'cpu'</span><span class="token punctuation">,</span> inplace <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># 得到单个值，传index以及列的名字</span>
score <span class="token operator">=</span> cpu_list<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">'Intel Core i7-4770TE @ 2.30GHz'</span><span class="token punctuation">,</span> <span class="token string">'得分'</span><span class="token punctuation">]</span>
<span class="token comment"># 查询2个cpu的得分</span>
score_list <span class="token operator">=</span> cpu_list<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Intel Core i7-4770TE @ 2.30GHz'</span><span class="token punctuation">,</span> <span class="token string">'Intel Core i5-6500TE @ 2.30GHz'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'得分'</span><span class="token punctuation">]</span>


<span class="token comment"># 区间查询</span>
cpu_list<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">'Intel Core i7-4770TE @ 2.30GHz'</span><span class="token punctuation">:</span><span class="token string">'Intel Core i7-4770TE @ 2.30GHz'</span><span class="token punctuation">,</span> <span class="token string">'得分'</span><span class="token punctuation">]</span>
cpu_list<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">'Intel Core i7-4770TE @ 2.30GHz'</span><span class="token punctuation">,</span> <span class="token string">'得分'</span><span class="token punctuation">:</span><span class="token string">'地址'</span><span class="token punctuation">]</span>



<span class="token comment"># 条件查询，先将所有行的“得分”修改为数字</span>
cpu_list<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token string">'得分'</span><span class="token punctuation">]</span> <span class="token operator">=</span> cpu_list<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">'int32'</span><span class="token punctuation">)</span>
cpu_list<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">4000</span><span class="token punctuation">]</span>

<span class="token comment"># 组合查询, 找到得分在3000以上，性价比高于100，价格小于200的所有cpu，并显示他们的得分，性价比，以及价格</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cpu_list<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">(</span>cpu_list<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span><span class="token number">3000</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>cpu_list<span class="token punctuation">[</span><span class="token string">'性价比'</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>cpu_list<span class="token punctuation">[</span><span class="token string">'价格'</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">,</span> <span class="token string">'性价比'</span><span class="token punctuation">,</span> <span class="token string">'价格'</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
                              得分         性价比    价格
cpu                                               
Intel Xeon W5580 @ 3.20GHz  3386  112.866667  30.0
Intel Xeon L5609 @ 1.87GHz  3298  131.920000  25.0
Intel Xeon X5667 @ 3.07GHz  4551  133.852941  34.0
Intel Xeon X5560 @ 2.80GHz  3100  206.666667  15.0
Intel Xeon X5570 @ 2.93GHz  3270  218.000000  15.0
Intel Xeon W3565 @ 3.20GHz  3346  223.066667  15.0
Intel Xeon L5640 @ 2.27GHz  4591  306.066667  15.0
Intel Xeon L5638 @ 2.00GHz  3225  248.076923  13.0
Intel Xeon X5550 @ 2.67GHz  3009  300.900000  10.0
Intel Xeon W3540 @ 2.93GHz  3031  303.100000  10.0
Intel Xeon W3530 @ 2.80GHz  3047  304.700000  10.0
Intel Xeon L5639 @ 2.13GHz  4419  339.923077  13.0
Intel Xeon W3550 @ 3.07GHz  3203  355.888889   9.0
Intel Xeon X5647 @ 2.93GHz  4394  488.222222   9.0
'''</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h3 id="调用函数查询"><a href="#调用函数查询" class="header-anchor">#</a> 调用函数查询</h3> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">print</span><span class="token punctuation">(</span>cpu_list<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token keyword">lambda</span> cpu <span class="token punctuation">:</span> <span class="token punctuation">(</span>cpu<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">4000</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>cpu<span class="token punctuation">[</span><span class="token string">'价格'</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">,</span> <span class="token string">'性价比'</span><span class="token punctuation">,</span> <span class="token string">'价格'</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
                                 得分         性价比    价格
cpu                                                  
Intel Core i5-3340S @ 2.80GHz  4088   43.031579  95.0
Intel Core i5-2500 @ 3.30GHz   4103   50.654321  81.0
Intel Xeon X5667 @ 3.07GHz     4551  133.852941  34.0
Intel Xeon L5640 @ 2.27GHz     4591  306.066667  15.0
Intel Xeon L5639 @ 2.13GHz     4419  339.923077  13.0
Intel Xeon X5647 @ 2.93GHz     4394  488.222222   9.0
'''</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="新增数据"><a href="#新增数据" class="header-anchor">#</a> 新增数据</h2> <p>数据分析的时候，经常需要按照一定的条件创建新的数据列，然后进一步分析</p> <ol><li>直接赋值</li> <li><code>df.apply</code></li> <li><code>df.assign</code></li> <li>按条件选择分组分别赋值</li></ol> <h3 id="直接赋值"><a href="#直接赋值" class="header-anchor">#</a> 直接赋值</h3> <p>在上面数据查询的条件查询部分已有的示例</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>cpu_list<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token string">'得分'</span><span class="token punctuation">]</span> <span class="token operator">=</span> cpu_list<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">'int32'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将所有的得分列，去掉逗号并转换成<code>int32</code> 类型</p> <p>新增列</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>cpu_list<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token string">'新增列'</span><span class="token punctuation">]</span> <span class="token operator">=</span> cpu_list<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span> <span class="token operator">/</span> cpu_list<span class="token punctuation">[</span><span class="token string">'价格'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="apply"><a href="#apply" class="header-anchor">#</a> apply</h3> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">new_column</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> x<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">3500</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'高性能'</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> x<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">1500</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'低性能'</span>
    <span class="token keyword">return</span> <span class="token string">'一般性能'</span>
cpu_list<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token string">'新增列'</span><span class="token punctuation">]</span> <span class="token operator">=</span> cpu_list<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span>new_column<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># axis为1表示新增列</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># cpu_list.loc['Intel Core I5-10400 @2.9G', :] = cpu_list.apply()</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="assign"><a href="#assign" class="header-anchor">#</a> assign</h3> <p>添加列，可以添加多个列</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>cpu_list<span class="token punctuation">.</span>assign<span class="token punctuation">(</span>
	new_col <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">4000</span><span class="token punctuation">,</span>
    new_col <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">[</span><span class="token string">'价格'</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">100</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="条件选择赋值"><a href="#条件选择赋值" class="header-anchor">#</a> 条件选择赋值</h3> <div class="language-python line-numbers-mode"><pre class="language-python"><code>cpu_list<span class="token punctuation">[</span><span class="token string">'性能'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">''</span>
cpu_list<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>
    cpu_list<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">4000</span><span class="token punctuation">,</span> <span class="token string">'高性能'</span><span class="token punctuation">,</span>
    cpu_list<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token string">'低性能'</span><span class="token punctuation">,</span>
    cpu_list<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">4000</span> <span class="token keyword">or</span> cpu_list<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token string">'一般性能'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="数据统计函数"><a href="#数据统计函数" class="header-anchor">#</a> 数据统计函数</h2> <h3 id="提取所有数字列"><a href="#提取所有数字列" class="header-anchor">#</a> 提取所有数字列</h3> <div class="language-python line-numbers-mode"><pre class="language-python"><code>cpu_list<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
                得分           排行          价格         性价比          主板       综合性价比
count   608.000000   608.000000  186.000000  186.000000    5.000000  186.000000
mean   2886.898026  1806.847039  170.389247   63.838557  129.120000   58.111248
std     952.611311   340.351623  173.395397   82.399720   52.205862   74.515185
min    1501.000000  1250.000000    7.000000    4.343878   82.800000    4.343878
25%    2090.250000  1500.750000   28.250000   13.392586   82.800000   13.392586
50%    2694.500000  1801.500000  120.000000   31.745108  110.000000   28.706250
75%    3590.500000  2093.250000  261.250000   72.748538  185.000000   63.335526
max    4988.000000  2455.000000  980.000000  488.222222  185.000000  426.428571
'''</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>结果中包含：</p> <ol><li>数量</li> <li>平均数</li> <li>标准差</li> <li>最小值</li> <li>25百分位</li> <li>50百分位</li> <li>75百分位</li> <li>最大值</li></ol> <p>查看单个列的信息</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>cpu_list<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 得分的平均值</span>
cpu_list<span class="token punctuation">[</span><span class="token string">'价格'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 价格的最大值</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>对于非数字类型的列，可以通过<code>unique</code> 得到所有的枚举值，<code>value_counts</code> 得到所有值出现的次数</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>cpu_list<span class="token punctuation">[</span><span class="token string">'地址'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span>
cpu_list<span class="token punctuation">[</span><span class="token string">'地址'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="协方差和相关系数"><a href="#协方差和相关系数" class="header-anchor">#</a> 协方差和相关系数</h3> <ol><li>协方差，衡量同向反向程度，如果为正，说明两个因素同向变化，值越大说明同向程度越高。如果为负值，说明两个因素反向变化，协方差越小说明反向程度越高</li> <li>相关系数，衡量相似度程度。当相关系数为1时，说明两个变量变化时的正向相似度最大，当相关系数为-1时，说明两个变量变化的相反相似度最大</li></ol> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 协方差矩阵</span>
cpu_list<span class="token punctuation">.</span>cov<span class="token punctuation">(</span><span class="token punctuation">)</span>
cpu_list<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cov<span class="token punctuation">(</span>cpu_list<span class="token punctuation">[</span><span class="token string">'价格'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 相关系数矩阵</span>
cpu_list<span class="token punctuation">.</span>corr<span class="token punctuation">(</span><span class="token punctuation">)</span>
cpu_list<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cov<span class="token punctuation">(</span>cpu_list<span class="token punctuation">[</span><span class="token string">'价格'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="缺省值处理"><a href="#缺省值处理" class="header-anchor">#</a> 缺省值处理</h2> <ol><li>isnull和notnull，检测是否为空值</li> <li>dropna：丢弃、删除缺失值</li> <li>fillna：填充空值</li></ol> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 删除所有值都为空的一列</span>
cpu_list<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token string">'columns'</span><span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">'all'</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token comment"># 删除所有值都为空的一行</span>
cpu_list<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token string">'index'</span><span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">'all'</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

cpu_list<span class="token punctuation">.</span>fillna<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'价格'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment"># 等价于</span>
cpu_list<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token string">'价格'</span><span class="token punctuation">]</span> <span class="token operator">=</span> cpu_list<span class="token punctuation">[</span><span class="token string">'价格'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fillna<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment"># 使用前面的不为空的值填充</span>
cpu_list<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token string">'价格'</span><span class="token punctuation">]</span> <span class="token operator">=</span> cpu_list<span class="token punctuation">[</span><span class="token string">'价格'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fillna<span class="token punctuation">(</span>method<span class="token operator">=</span><span class="token string">'ffill'</span><span class="token punctuation">)</span> 
<span class="token comment"># 使用后面的不为空的值填充</span>
cpu_list<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token string">'价格'</span><span class="token punctuation">]</span> <span class="token operator">=</span> cpu_list<span class="token punctuation">[</span><span class="token string">'价格'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fillna<span class="token punctuation">(</span>method<span class="token operator">=</span><span class="token string">'bfill'</span><span class="token punctuation">)</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>保存excel</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>cpu_list<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span><span class="token string">'./new.xlsx'</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span> <span class="token comment"># 不要索引列</span>

<span class="token comment"># 将索引列写入DataFrame</span>
cpu_list<span class="token punctuation">[</span><span class="token string">'cpu'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>cpu_list<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">,</span> index<span class="token operator">=</span>cpu_list<span class="token punctuation">.</span>index<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="排序"><a href="#排序" class="header-anchor">#</a> 排序</h2> <ol><li>Series排序： <code>Series.sort_values(ascending=True, inplace=False)</code></li> <li>DataFrame排序：<code>DataFrame.sort_values(by, ascending=True, inplace=False)</code></li></ol> <div class="language-python line-numbers-mode"><pre class="language-python"><code>cpu_list<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 默认升序</span>
cpu_list<span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>ascending <span class="token operator">=</span> <span class="token boolean">False</span><span class="token punctuation">)</span>

<span class="token comment"># df单列排序</span>
cpu_list<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span><span class="token string">'得分'</span><span class="token punctuation">)</span>
cpu_list<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span><span class="token string">'得分'</span><span class="token punctuation">,</span> ascending <span class="token operator">=</span> <span class="token boolean">False</span><span class="token punctuation">)</span>

<span class="token comment"># 多列排序</span>
cpu_list<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">,</span> <span class="token string">'价格'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 按得分降序，价格升序进行排列</span>
cpu_list<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'得分'</span><span class="token punctuation">,</span> <span class="token string">'价格'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ascending<span class="token operator">=</span><span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 按索引排序</span>
cpu_list<span class="token punctuation">.</span>sort_index<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="关于str"><a href="#关于str" class="header-anchor">#</a> 关于str</h2> <p>在前面使用过str属性操作得分这一列，可以看到其使用方式，关于其特性如下：</p> <ol><li>str只存在于Series，不在DataFrame上</li> <li>只能作用于字符串列</li> <li>不是原生的python字符串，但大部分与原生方法都相似</li> <li>支持正则</li> <li>可以用str.startswith和str.contains方法来进行筛选</li> <li>方法的结果也是一个Series，所以要实现链式调用，必须重新获取str属性再调用其他方法</li></ol> <h2 id="合并dataframe"><a href="#合并dataframe" class="header-anchor">#</a> 合并DataFrame</h2> <p><code>pd.merge(left, right, how='inner', on=None, left_on=None, right_on=None, left_index=False, right_index=False, sort=True, suffixes=('_x', '_y'), copy=True, indicator=False, validate=None)</code></p> <ul><li>left、right：要merge得dataframe或者有name的Series</li> <li>how，join的类型，'left'、'right'、'outer'、'inner'</li> <li>on：join的key，left和right都需要有这个key</li> <li>left_on: left的key</li> <li>right_on: right的key</li> <li>left_index、right_index：使用index而不是普通的column做join</li> <li>suffixes：两个元素的后缀，如果列有重名，自动添加后缀</li></ul> <p><code>concat</code>方法</p> <p><code>append</code> 方法，只有按行合并，相当于concat按行的简写</p> <p>查看教程：[<a href="https://www.bilibili.com/video/BV1UJ411A7Fs/?p=14&amp;spm_id_from=pageDriver&amp;vd_source=0378a9e3f5b84b2b1dbec59d705dc995" target="_blank" rel="noopener noreferrer">Panda实现数据Concat合并_哔哩哔哩_bilibili<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>](<a href="https://www.bilibili.com/video/BV1UJ411A7Fs/?p=14&amp;spm_id_from=pageDriver&amp;vd_source=0378a9e3f5b84b2b1dbec59d705dc995" target="_blank" rel="noopener noreferrer">Panda实现数据Concat合并_哔哩哔哩_bilibili<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>df1<span class="token punctuation">,</span> df2<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># 默认是按outter模式合并</span>
pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>df1<span class="token punctuation">,</span> df2<span class="token punctuation">]</span><span class="token punctuation">,</span> join<span class="token operator">=</span><span class="token string">'inner'</span><span class="token punctuation">,</span> ignore_index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span> <span class="token comment"># 忽略掉原有的index，生成新的index</span>
<span class="token comment"># 按列合并，也就是添加一个新的列</span>
pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>df1<span class="token punctuation">,</span> df2<span class="token punctuation">]</span><span class="token punctuation">,</span> axis <span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="时间对象处理"><a href="#时间对象处理" class="header-anchor">#</a> 时间对象处理</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> datetime

datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>strptime<span class="token punctuation">(</span><span class="token string">'2010-01-01'</span><span class="token punctuation">,</span> <span class="token string">'%Y-%m-%d'</span><span class="token punctuation">)</span>

<span class="token keyword">import</span> dateutil

dateutil<span class="token punctuation">.</span>parser<span class="token punctuation">.</span>parse<span class="token punctuation">(</span><span class="token string">'2001-01-01'</span><span class="token punctuation">)</span>
dateutil<span class="token punctuation">.</span>parser<span class="token punctuation">.</span>parse<span class="token punctuation">(</span><span class="token string">'2001/01/01'</span><span class="token punctuation">)</span>
dateutil<span class="token punctuation">.</span>parser<span class="token punctuation">.</span>parse<span class="token punctuation">(</span><span class="token string">'01/01/2001'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>pandas转换时间对象</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'2001-01-01'</span><span class="token punctuation">,</span> <span class="token string">'2010/01/01'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>生成时间范围</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">'2010-01-01'</span><span class="token punctuation">,</span> <span class="token string">'2010-05-1'</span><span class="token punctuation">)</span> <span class="token comment"># 闭区间，生成每一天的日期</span>

pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">'2010-01-01'</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">60</span><span class="token punctuation">)</span> <span class="token comment"># 生成60天的日期</span>

pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">'2010-01-01'</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">60</span><span class="token punctuation">,</span> freq<span class="token operator">=</span><span class="token string">'H'</span><span class="token punctuation">)</span> <span class="token comment"># 按小时生成60天的日期</span>

pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">'2010-01-01'</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">60</span><span class="token punctuation">,</span> freq<span class="token operator">=</span><span class="token string">'B'</span><span class="token punctuation">)</span> <span class="token comment"># 按工作日生成</span>

pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">'2010-01-01'</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">60</span><span class="token punctuation">,</span> freq<span class="token operator">=</span><span class="token string">'W'</span><span class="token punctuation">)</span> <span class="token comment"># 按周生成，默认是W-SUN，也就是星期天，也可以是W-MON，生成星期一的所有日期</span>
<span class="token comment"># freq其他可选值：H(our)、W(eek)、B(usiness),S(emi-)M(onth),(min)T(es),S(econd),A(year)</span>

pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">'2010-01-01'</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">60</span><span class="token punctuation">,</span> freq<span class="token operator">=</span><span class="token string">'1h20min'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>date_range方法返回的是一个Index对象，也就是说可以拿这个对象作为Series或者DataFrame的index</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>sr <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> index<span class="token operator">=</span>pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">'2010-01-1'</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

sr<span class="token punctuation">[</span><span class="token string">'2010-03'</span><span class="token punctuation">]</span> <span class="token comment"># 返回所有3月份的数据</span>
sr<span class="token punctuation">[</span><span class="token string">'2010-02-1'</span><span class="token punctuation">:</span><span class="token string">'2010-02-21'</span><span class="token punctuation">]</span> <span class="token comment"># 选取范围</span>

<span class="token comment"># 按月做统计数据</span>
sr<span class="token punctuation">.</span>resample<span class="token punctuation">(</span><span class="token string">&quot;M&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
sr<span class="token punctuation">.</span>resample<span class="token punctuation">(</span><span class="token string">&quot;M&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="绘制"><a href="#绘制" class="header-anchor">#</a> 绘制</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/code/python/numpy.html" class="prev">
        numpy
      </a></span> <span class="next"><a href="/code/python/matplotlib.html">
        matpoltlib
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/app.03a08a11.js" defer></script><script src="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/3.2b593545.js" defer></script><script src="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/164.59d1735d.js" defer></script>
  </body>
</html>
