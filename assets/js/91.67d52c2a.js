(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{430:function(a,t,s){"use strict";s.r(t);var e=s(14),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[a._v("最新环境搭建"),t("a",{attrs:{href:"https://www.react-native.cn/docs/environment-setup",target:"_blank",rel:"noopener noreferrer"}},[a._v("文档"),t("OutboundLink")],1)]),a._v(" "),t("h2",{attrs:{id:"工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#工具"}},[a._v("#")]),a._v(" 工具")]),a._v(" "),t("ul",[t("li",[a._v("jdk")]),a._v(" "),t("li",[a._v("Android studio")])]),a._v(" "),t("p",[a._v("微云里面有")]),a._v(" "),t("h2",{attrs:{id:"安装-jdk"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-jdk"}},[a._v("#")]),a._v(" 安装 jdk")]),a._v(" "),t("p",[a._v("mac 一般自带 jdk，也可以手动安装，"),t("a",{attrs:{href:"https://www.kagura.me/dev/20200424112618.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("下载地址"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("然后配置环境变量")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("JAVA_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$JAVA_HOME")]),a._v("/bin:"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),a._v(":.\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("CLASSPATH")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$JAVA_HOME")]),a._v("/lib/tools.jar:"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$JAVA_HOME")]),a._v("/lib/dt.jar:.\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" JAVA_HOME\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" CLASSPATH\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("p",[a._v("试试运行 javac")]),a._v(" "),t("blockquote",[t("p",[a._v("2023-08-02更新\n如今官网推荐通过brew安装jdk，"),t("code",[a._v("brew tap homebrew/cask-versions")]),a._v("，"),t("code",[a._v("brew install --cask zulu11")]),a._v("，如果失败，先更新brew,"),t("code",[a._v("brew update")]),a._v("。"),t("a",{attrs:{href:"https://reactnative.cn/docs/environment-setup#java-development-kit",target:"_blank",rel:"noopener noreferrer"}},[a._v("原文"),t("OutboundLink")],1),a._v("\nReact Native 需要 Java Development Kit [JDK] 11。你可以在命令行中输入 javac -version（请注意是 javac，不是 java）来查看你当前安装的 JDK 版本。\n低于 0.67 版本的 React Native 需要 JDK 1.8 版本（官方也称 8 版本）。\nps: macos默认jdk版本就是1.8")])]),a._v(" "),t("h2",{attrs:{id:"安装-androidstudio"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-androidstudio"}},[a._v("#")]),a._v(" 安装 androidStudio")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://developer.android.google.cn/studio",target:"_blank",rel:"noopener noreferrer"}},[a._v("下载地址"),t("OutboundLink")],1),a._v("，也可以在这个"),t("a",{attrs:{href:"https://www.androiddevtools.cn/#",target:"_blank",rel:"noopener noreferrer"}},[a._v("网站"),t("OutboundLink")],1),a._v("上下载")]),a._v(" "),t("p",[a._v("直接安装，打开的时候默认会安装安卓 sdk 包，包含 tools、platform-tools、build-tools，这一步最好配置好一个可用的代理")]),a._v(" "),t("p",[a._v("也可以单独下载 SDK，"),t("a",{attrs:{href:"https://testerhome.com/topics/19377",target:"_blank",rel:"noopener noreferrer"}},[a._v("参考"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("可以配置环境变量")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ANDROID_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/XXX\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$ANDROID_HOME")]),a._v("/tools\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$ANDROID_HOME")]),a._v("/tools/bin\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$ANDROID_HOME")]),a._v("/platform-tools\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$ANDROID_HOME")]),a._v("/emulator\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("p",[a._v("路径根据实际情况配置")]),a._v(" "),t("p",[a._v("在连接上手机以后，可以执行"),t("code",[a._v("npx react-native doctor")]),a._v("查看当前环境还有哪些没有设置好")]),a._v(" "),t("h2",{attrs:{id:"启动服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动服务"}},[a._v("#")]),a._v(" 启动服务")]),a._v(" "),t("ol",[t("li",[a._v("直接在android studio上启动，启动成功之后，会在连接的设备或者模拟器上安装开发的APP")]),a._v(" "),t("li",[a._v("启动js Server，执行"),t("code",[a._v("npm start --port 8188")]),a._v("，可以通过port参数修改启动的端口，默认在8081")]),a._v(" "),t("li",[a._v("以上两个步骤可以合为一个即"),t("code",[a._v("npm run android")])]),a._v(" "),t("li",[a._v("手机连接电脑上的服务，可以查看"),t("a",{attrs:{href:"./%E8%B0%83%E8%AF%95FAQ"}},[a._v("调试FAQ")])])]),a._v(" "),t("h2",{attrs:{id:"打包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#打包"}},[a._v("#")]),a._v(" 打包")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://reactnative.cn/docs/signed-apk-android",target:"_blank",rel:"noopener noreferrer"}},[a._v("官网的打包流程"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("其中两个步骤可以做替换")]),a._v(" "),t("ol",[t("li",[a._v("keystore的生成，可以直接在Android Studio上生成，具体可以查看"),t("a",{attrs:{href:"https://blog.csdn.net/xiaohelan/article/details/105514531",target:"_blank",rel:"noopener noreferrer"}},[a._v("网址"),t("OutboundLink")],1)]),a._v(" "),t("li",[a._v("生成APK，除了在Android目录下执行"),t("code",[a._v("./gradlew assembleRelease")]),a._v("，也可以直接在Android Studio上选择"),t("code",[a._v("build > Generate Sign Bundle/Apk")]),a._v("执行")])])])}),[],!1,null,null,null);t.default=n.exports}}]);