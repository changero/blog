(window.webpackJsonp=window.webpackJsonp||[]).push([[201],{557:function(e,r,o){"use strict";o.r(r);var t=o(14),a=Object(t.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h2",{attrs:{id:"挂载-dropbox"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#挂载-dropbox"}},[e._v("#")]),e._v(" 挂载 dropbox")]),e._v(" "),r("p",[e._v("配置")]),e._v(" "),r("blockquote",[r("p",[e._v("rclone config")])]),e._v(" "),r("p",[e._v("如果还没有应用，到"),r("a",{attrs:{href:"https://www.dropbox.com/developers/apps",target:"_blank",rel:"noopener noreferrer"}},[e._v("开发者中心"),r("OutboundLink")],1),e._v("创建一个应用")]),e._v(" "),r("p",[e._v("输入 app key 和 app secret")]),e._v(" "),r("p",[e._v("会提示打开一个连接")]),e._v(" "),r("p",[e._v("linux 下没有默认的浏览器")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("用 curl 命令拿到返回，是一个 a 标签,比如")]),e._v(" "),r("blockquote",[r("p",[e._v("curl http://127.0.0.1:53682/auth?state=7HejVNzrg9iGUQ2x7B09qw")])])])]),e._v(" "),r("ol",{attrs:{start:"2"}},[r("li",[r("p",[e._v("复制下来添加到一个网页中访问，获取授权，得到 dropbox 的回调链接")])]),e._v(" "),r("li",[r("p",[e._v("这个回调链接在浏览器里面访问一下，复制它的 curl(bash)请求")])]),e._v(" "),r("li",[r("p",[e._v("再到服务器里面去执行")])])]),e._v(" "),r("p",[r("strong",[e._v("以上步骤也适用于 onedrive")])]),e._v(" "),r("p",[e._v("最后显示"),r("code",[e._v("all done")])]),e._v(" "),r("p",[e._v("回到执行"),r("code",[e._v("rclone")]),e._v("的 shell, 拿到 token 以后，将它放到配置文件里面")]),e._v(" "),r("blockquote",[r("p",[e._v("nano ~/.config/rclone/rclone.conf")])]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('[dropbox-remote]\ntype = dropbox\nclient_id = <app-key>\nclient_secret = <app-secret>\ntoken = {"access_token":"redacted","token_type":"bearer","expiry":"2020-08-05T16:10:21.28527-07:00"}\n')])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br")])]),r("p",[e._v("如果要再次认证")]),e._v(" "),r("blockquote",[r("p",[e._v('rclone authorize "dropbox" -- "fd2gdwt35oksfrf" "u4i3lsxs1u4yvwf"')])]),e._v(" "),r("h2",{attrs:{id:"挂载"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#挂载"}},[e._v("#")]),e._v(" 挂载")]),e._v(" "),r("p",[e._v("首先要创建一个目录")]),e._v(" "),r("blockquote",[r("p",[e._v("rclone mkdir drop:files")])]),e._v(" "),r("p",[e._v("在 dropbox 创建一个 files 目录,目录的实际存在位置在对应的应用目录下")]),e._v(" "),r("p",[e._v("在本机创建一个空目录，挂载")]),e._v(" "),r("blockquote",[r("p",[e._v("rclone mount drop:files /opt/dropbox --daemon")])]),e._v(" "),r("h2",{attrs:{id:"操作"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#操作"}},[e._v("#")]),e._v(" 操作")]),e._v(" "),r("p",[e._v("可以直接 mount 的目录操作")]),e._v(" "),r("h3",{attrs:{id:"复制文件-或者"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#复制文件-或者"}},[e._v("#")]),e._v(" 复制文件,或者")]),e._v(" "),r("blockquote",[r("p",[e._v("rclone copy ~/1.txt drop:files")])]),e._v(" "),r("h3",{attrs:{id:"删除文件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#删除文件"}},[e._v("#")]),e._v(" 删除文件")]),e._v(" "),r("blockquote",[r("p",[e._v("rclone delete drop:files/1.txt")])]),e._v(" "),r("h2",{attrs:{id:"参考"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://rclone.org/dropbox/#:~:text=Rclone%20supports%20Dropbox%20for%20business%20and%20Team%20Folders.,you%20all%20Team%20Folders%20and%20your%20User%20Folder.",target:"_blank",rel:"noopener noreferrer"}},[e._v("rclone 文档"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"https://hpcrcf.atlassian.net/wiki/spaces/TCP/pages/1529511937/Dropbox+access+using+rclone",target:"_blank",rel:"noopener noreferrer"}},[e._v("dropbox 的文档"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"https://rclone.org/commands/",target:"_blank",rel:"noopener noreferrer"}},[e._v("rclone 命令文档"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"https://www.unvone.com/72825.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("rclone 挂载 google drive"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("挂载 google")]),e._v(" "),r("blockquote",[r("p",[e._v("rclone mount GoogleDrive: /GoogleDrive "),r("br"),e._v("\n--umask 0000 "),r("br"),e._v("\n--default-permissions "),r("br"),e._v("\n--allow-non-empty "),r("br"),e._v("\n--allow-other "),r("br"),e._v("\n--buffer-size 32M "),r("br"),e._v("\n--dir-cache-time 12h "),r("br"),e._v("\n--vfs-read-chunk-size 64M "),r("br"),e._v("\n--vfs-read-chunk-size-limit 1G &")])]),e._v(" "),r("p",[e._v("挂载 onedrive")]),e._v(" "),r("blockquote",[r("p",[e._v("rclone mount onedrive: /opt/drive/onedrive --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000 --vfs-cache-mode full --daemon")])]),e._v(" "),r("h2",{attrs:{id:"配置-ui-界面访问"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#配置-ui-界面访问"}},[e._v("#")]),e._v(" 配置 UI 界面访问")]),e._v(" "),r("p",[e._v("使用的是"),r("a",{attrs:{href:"https://github.com/rclone/rclone-webui-react",target:"_blank",rel:"noopener noreferrer"}},[e._v("rclone-webui-react"),r("OutboundLink")],1),e._v("项目")]),e._v(" "),r("p",[e._v("首先执行")]),e._v(" "),r("blockquote",[r("p",[e._v("rclone rcd --rc-web-gui --rc-user=[user] --rc-pass=[pass]")])]),e._v(" "),r("p",[e._v("开启访问:http://localhost:5572")]),e._v(" "),r("p",[e._v("rclone rcd --rc-web-gui --rc-user=admin --rc-pass=qq00TC93")]),e._v(" "),r("h3",{attrs:{id:"使用托管版本"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用托管版本"}},[e._v("#")]),e._v(" 使用托管版本")]),e._v(" "),r("blockquote",[r("p",[e._v('rclone rcd --rc-user=abc --rc-pass=abcd --rc-allow-origin="https://rclone.github.io"')])]),e._v(" "),r("p",[e._v('rclone rcd --rc-user=admin --rc-pass=qq00TC93 --rc-allow-origin="https://rclone.github.io"')])])}),[],!1,null,null,null);r.default=a.exports}}]);