---
title: ç™¾åº¦ç½‘ç›˜ç›´é“¾æå–æ²¹çŒ´è„šæœ¬
date: '2021-11-17 20:49:25'
categories:
  - å·¥å…·
tags:
  - ç™¾åº¦äº‘
lang: zh-cn
---

[ç™¾åº¦ç½‘ç›˜æå–é“¾æ¥ä¸‹è½½ï¼ˆæœ€æ–°ï¼‰- è½¯ä»¶å°å¦¹](https://greasyfork.org/zh-CN/scripts/418182)

[ç™¾åº¦ç½‘ç›˜æå–é“¾æ¥ä¸‹è½½](https://greasyfork.org/zh-CN/scripts/419252)

[ç™¾åº¦ç½‘ç›˜ç›´é“¾æå–](https://greasyfork.org/zh-CN/scripts/403991)

[å¤šåˆä¸€ç›´æ¥ä¸‹è½½åŠ©æ‰‹ - æ‡’è›¤è›¤](https://greasyfork.org/zh-CN/scripts/370634)

<!-- more -->

[ç™¾åº¦äº‘å»å¹¿å‘Šï¼Œå¿«æ·é”®å€é€Ÿï¼Œå… VIP è§£é”å€é€Ÿã€ç”»è´¨ - æ¶›ä¹‹é›¨](https://greasyfork.org/zh-CN/scripts/422814-%E7%99%BE%E5%BA%A6%E4%BA%91%E5%8E%BB%E5%B9%BF%E5%91%8A-%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%80%8D%E9%80%9F-%E5%85%8Dvip%E8%A7%A3%E9%94%81%E5%80%8D%E9%80%9F-%E7%94%BB%E8%B4%A8-%E5%85%A8%E7%BD%91%E7%8B%AC%E5%AE%B6)

::: details è„šæœ¬å¤‡ä»½

```js
// ==UserScript==
// @icon         https://tva1.sinaimg.cn/large/008i3skNgy1gssioj5f67g30400403yc.gif
// @name         ç™¾åº¦äº‘å»å¹¿å‘Šï¼Œå¿«æ·é”®å€é€Ÿï¼Œå…VIPè§£é”å€é€Ÿã€ç”»è´¨ï¼å…¨ç½‘ç‹¬å®¶ï¼
// @namespace    baiduwangpan.taozhiyu.gitee.io
// @version      0.5.0
// @description  åˆ é™¤â€œå¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœºAppï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦ï¼Œæ¥è‡ªç™¾åº¦ä¼šå‘˜è¶…çº§æ— æ•Œæ°¸ä¹…svipâ€ï¼Œç²¾ç®€éƒ¨ä¸»é¡µå¹¿å‘Šã€é‚€è¯·ï¼Œè§†é¢‘æ·»åŠ å€é€ŸæŒ‰é’®
// @author       æ¶›ä¹‹é›¨
// @require      https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.6/clipboard.min.js
// @require      https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.slim.min.js
// @match        *://pan.baidu.com/disk/*
// @match        *://pan.baidu.com/mbox/*
// @match        *://pan.baidu.com/play/*
// @match        *://yun.baidu.com/disk/*
// @match        *://yun.baidu.com/mbox/*
// @match        *://yun.baidu.com/play/*
// @match        *://pan.baidu.com/s/*
// @match        *://yun.baidu.com/s/*
// @match        *://pan.baidu.com/share/*
// @match        *://yun.baidu.com/share/*
// @grant	     GM_addStyle
// @grant	     unsafeWindow
// @grant        GM_getValue
// @grant        GM_setValue
// @home-url	 https://greasyfork.org/zh-CN/scripts/422814
// @license      GPL-3.0-only
// ==/UserScript==
/**********************************************\
 * ç§»é™¤å°å°¾å·´éƒ¨åˆ†ä¿®æ”¹è‡ªhttps://greasyfork.org/zh-CN/scripts/374100
 * è‡ªå®šä¹‰å¯†ç éƒ¨åˆ†ä¿®æ”¹è‡ªhttps://greasyfork.org/zh-CN/scripts/423146
 * é€Ÿç‡ã€ç”»è´¨ç­‰éƒ¨åˆ†ä¿®æ”¹è‡ªvideojså®˜æ–¹æ–‡æ¡£https://videojs.com/
 * V 0.5.0
 * åˆ é™¤å¤§é‡åƒåœ¾ä»£ç ï¼ˆæ‰¾åˆ°æ›´ä¼˜è§£å†³åŠæ³•ï¼ï¼‰è™½ç„¶ä¸çŸ¥é“æ˜¯è°ä¸¾æŠ¥çš„è„šæœ¬ï¼Œæˆ‘éƒ½ä»£è¡¨å¤§å®¶æ„Ÿè°¢ä½ ï¼Œæ²¡æœ‰ä½ æˆ‘ä¹Ÿä¸ä¼šå»è¿›è¡Œè¿™ä¹ˆå¤§è§„æ¨¡ä¿®æ”¹çš„ï¼
 * [ç›¸å…³ä¸¾æŠ¥é“¾æ¥](https://greasyfork.org/zh-CN/reports/12664) å› æ­¤ï¼Œç›´æ¥æ”¹äº†ä¸ªå¤§ç‰ˆæœ¬å·ã€‚
 * æ”¯æŒ[æ–°ç‰ˆç•Œé¢](https://pan.baidu.com/disk/main?from=oldversion#/index?category=all)çš„å¹¿å‘Šæ‹¦æˆªã€è‡ªå®šä¹‰å¯†ç ã€é»˜è®¤åˆ†äº«æ—¶é•¿æ”¹ä¸ºæ— é™åˆ¶
 * éšæ‰‹æ”¹äº†ä¸ªæ›´é…·ç‚«çš„é»‘é‡‘LOGO
 * ä¿®æ”¹å¯¹äºæ—§ç•Œé¢çš„æ”¯æŒæ€§ï¼Œæ›´åŠ å®Œå–„
 * ä¿®æ­£å¯¹äºæå–ç çš„åŒ¹é…ï¼Œä½¿ä¹‹æ›´åŠ ç²¾å‡†
 * æ·»åŠ å®šæ—¶è¯»å–æå–ç åŠŸèƒ½ï¼Œæœ‰æƒé™ä¸”æœªè·å–åˆ°æ­£ç¡®çš„æå–ç æ—¶æ¯ç§’é‡æ–°è·å–
 * V 0.4.6ï¼ˆæœªå…¬å¼€ï¼‰
 * ä¿®å¤éƒ¨åˆ†å¹¿å‘Šå¼¹çª—æ‹¦æˆª
 * ä¼˜åŒ–éƒ¨åˆ†ä»£ç 
 * V 0.4.5
 * ä¿®å¤â€œç”»ä¸­ç”»â€é€»è¾‘é”™è¯¯
 * ä¿®å¤è½¬å­˜æ–‡ä»¶æ—¶ç•Œé¢æ˜¾ç¤ºé”™è¯¯
 * V 0.4.4
 * å¤§ç‰ˆæœ¬æ›´æ–°ï¼ï¼ï¼
 * å…¨ï¼ç½‘ï¼ç‹¬ï¼å®¶ï¼æ”¯æŒç™¾åº¦äº‘ã€å…VIPã€‘è§£é”å€é€Ÿå’Œç”»è´¨ï¼
 * ï¼ˆæ³¨ï¼šå› æœåŠ¡å™¨é™åˆ¶éä¼šå‘˜é€Ÿåº¦ï¼Œå› æ­¤éä¼šå‘˜ä¼šå¡é¡¿ï¼‰
 * éœ€è¦çœ‹æºç çš„æœ‹å‹è‡ªè¡Œæ ¼å¼åŒ–ã€‚ã€‚ã€‚
 * å› ä¸ºå¤ªå¤§ï¼ŒæŠŠå¯¹é½çš„ç©ºæ ¼éƒ½åˆ æ‰äº†ï¼ˆ1.69M=>684Kï¼‰
 * V 0.3.4
 * æ‚„å’ªå’ªä¿®å¤éƒ¨åˆ†ï¼ˆæ„Ÿè§‰å°±åªæœ‰å¤§èåœä¸€ä¸ªï¼‰äººç™¾åº¦ç½‘ç›˜LOGOæ˜¾ç¤ºå¼‚å¸¸çš„é—®é¢˜ï¼ˆæ¢äº†ä¸ªå›¾æ ‡ï¼‰
 * ä¿®å¤ç™¾åº¦äº‘æ›´æ–°é€ æˆçš„è„šæœ¬æ— æ³•å€é€Ÿæ’­æ”¾è§†é¢‘ï¼ˆç›®å‰ä»…æœ‰ç™¾åº¦äº‘VIPæ–¹å¯ä½¿ç”¨ã€‚ã€‚ã€‚ï¼‰
 * ä¿®å¤é€Ÿç‡è°ƒèŠ‚å¿«æ·é”®çš„ä¸€ä¸ªbugï¼ˆç›®å‰ä»…æœ‰ç™¾åº¦äº‘VIPæ–¹å¯ä½¿ç”¨ã€‚ã€‚ã€‚ï¼‰
 * æ·»åŠ â€œç”»ä¸­ç”»â€åŠŸèƒ½ï¼ˆéœ€è¦æµè§ˆå™¨æ”¯æŒï¼‰ï¼Œç”»ä¸­ç”»æ¨¡å¼å¿«æ·é”®å°†ä¼šå¤±æ•ˆï¼Œå…¨å±è‡ªåŠ¨é€€å‡ºç”»ä¸­ç”»æ¨¡å¼
 * V 0.3.3
 * æ¤å…¥è‡ªå®šä¹‰å¯†ç åŠŸèƒ½ï¼ˆä¿®æ”¹è‡ªã€https://greasyfork.org/zh-CN/scripts/423146ã€‘ï¼Œæ„Ÿè°¢æä¾›æ€è·¯ï¼Œå·²è·å¾—æˆæƒï¼‰
 * ä¼˜åŒ–ä¸Šè¿°è„šæœ¬
 * ä¿®æ”¹é»˜è®¤åˆ†äº«æ—¶é—´ä¸ºã€æ°¸ä¹…ã€‘
 * æ–°å¢å¯¹äºâ€œå†…æµ‹æé†’â€å¼¹çª—çš„å…³é—­æ”¯æŒ
 * å€é€Ÿè²Œä¼¼å¤±æ•ˆäº†ï¼Ÿç®—äº†ï¼Œæœ‰ç©ºå†çœ‹å§
 * V 0.3.2
 * ç´§æ€¥ä¿®å¤è¯¯ä¼¤å‹ç¼©åŒ…æŸ¥çœ‹çš„bug
 * V 0.3.1
 * æ–°å¢å¯¹äºã€å‹ç¼©åŒ…ã€‘ã€ã€CADã€‘å’Œã€æ€ç»´å¯¼å›¾ã€‘æ–‡ä»¶æ‰“å¼€å¼•å¯¼çš„å±è”½ã€‚
 * æ–°å¢åœ¨æ’­æ”¾ç•Œé¢ï¼Œæ–°å¢å¿«æ·é”®æ§åˆ¶æ’­æ”¾é€Ÿåº¦ï¼š
 * -- (shifté”®æ— è®ºæ˜¯å¦æŒ‰ä¸‹ï¼Œ)æŒ‰æ•°å­—ã€0ã€‘å³å¯æ¢å¤æ­£å¸¸é€Ÿåº¦ï¼ˆåŸé€Ÿå¿«æ·é”®ï¼‰
 * -- æŒ‰ä¸‹æ•°å­—ã€1-9ã€‘å¯ä»¥åˆ†åˆ«è°ƒæ•´é€Ÿåº¦ä¸ºã€1.25,1.5,1.75,2,2.4,2.7,4,6,8ã€‘ï¼ˆå€é€Ÿå¿«æ·é”®ï¼‰
 * -- æŒ‰ä¸‹ã€shiftã€‘åå†æŒ‰ä¸‹æ•°å­—ã€1-9ã€‘å¯ä»¥åˆ†åˆ«è°ƒæ•´é€Ÿåº¦ä¸ºã€0.1,0.15,0.2,0.25,0.3,0.5,0.6,0.8,0.9ã€‘ï¼ˆæ…¢é€Ÿå¿«æ·é”®ï¼‰
 * -- (shifté”®æ— è®ºæ˜¯å¦æŒ‰ä¸‹ï¼Œ)æ¯æ¬¡æŒ‰ä¸‹ã€-ã€‘ï¼Œå½“å‰é€Ÿç‡å‡å°0.1
 * -- (shifté”®æ— è®ºæ˜¯å¦æŒ‰ä¸‹ï¼Œ)æ¯æ¬¡æŒ‰ä¸‹ã€=ã€‘ï¼Œå½“å‰é€Ÿç‡å¢åŠ 0.1
 * V 0.3.0
 * æ·»åŠ  + è‡ªåŠ¨è¯»å–ã€æäº¤æå–ç çš„åŠŸèƒ½ï¼ˆç¬¬ä¸€æ¬¡è¿è¡Œéœ€è¦æˆæƒï¼Œæœ‰å¼•å¯¼ç•Œé¢ï¼‰
 * V 0.2.9
 * ä¿®å¤ + å› ä¸ºå›¾çœäº‹ï¼Œé€šç”¨åŒ¹é…å¯¼è‡´æŸäº›ç•Œé¢è¢«å±è”½çš„bug
 * V 0.2.8
 * ä¿®å¤ + è§†é¢‘å€é€Ÿæ’­æ”¾è‡ªåŠ¨æ¢å¤çš„æš—è£…ï¼ˆæ¶›ä¹‹é›¨å…¨ç½‘ç‹¬å®¶çš„æ–¹æ³•ï¼Œå¦‚æœ‰å€Ÿé‰´è¯·è¯´æ˜å‡ºå¤„ï¼‰
 * V 0.2.7
 * è°ƒæ•´ + è½¬å­˜åçš„å¸ƒå±€
 * ä¿®å¤ + åˆ é™¤éƒ¨åˆ†é—æ¼å¹¿å‘Š
 * æ–°å¢ + å¯¹äºæ–‡ä»¶åˆ†äº«ç•Œé¢ï¼Œçš„å»å¹¿å‘Šæ”¯æŒ
 * V 0.2.6
 * æ–°å¢ + å¯¹äºåˆ†äº«é¡µçš„é€‚é…ï¼ˆå»å¹¿å‘Šï¼‰
 * æ–°å¢ + è§†é¢‘æ’­æ”¾é¡µæ·»åŠ å€é€ŸæŒ‰é’®ï¼ˆä»¿åŸç”Ÿï¼Œè´¼å¼ºï¼‰
 * æ·»åŠ  + éµå¾ªåè®® GPL-3.0-only
 * TODO : é»˜è®¤æ°¸ä¹…åˆ†äº«ï¼ˆå¯è‡ªå®šä¹‰1-365å¤©å’Œæ°¸ä¹…ï¼‰
 * TODO : è‡ªå®šä¹‰åˆ†äº«å¯†ç ï¼ˆæˆ–å…¬å¼€é“¾æ¥ï¼Œæ— å¯†ç ï¼‰
 * TODO : è‡ªå®šä¹‰é™åˆ¶åˆ†äº«æ¬¡æ•°é“¾æ¥
 * V 0.2.5
 * æ–°å¢ + å¯¹äºâ€œåœ¨çº¿è§†é¢‘â€ç•Œé¢çš„æ”¯æŒ
 * TODO : åŠ ä¸Šå€é€Ÿæ’­æ”¾æŒ‰é’®
 * V 0.2.4
 * æ–°å¢ + å¯¹äºâ€œåˆ†äº«â€ç•Œé¢çš„æ”¯æŒ
 * V 0.2.3
 * åˆ é™¤ - ç™¾åº¦æ–‡åº“ç›¸å…³ä»£ç ï¼Œè¿ç§»åˆ°æ–°é¡¹ç›®
 * V 0.2.1
 * æ–°å¢ + ç™¾åº¦æ–‡åº“å¤§é‡åƒåœ¾ã€å¹¿å‘Šåˆ é™¤
 * TODO : æ­£åœ¨ç ”ç©¶éVIPä¼šå‘˜å…ã€å¹¿å‘Šå…¨å±é˜…è¯»ã€‘
 * V 0.1.7
 * ä¿®å¤ + â€œä¸ªäººåˆ†äº«â€ç•Œé¢â€œå¤åˆ¶è¿™æ®µå†…å®¹...â€ç§»é™¤å¤±è´¥çš„bug
 * æ–°å¢ + åˆ é™¤ä¸»ç•Œé¢çš„éƒ¨åˆ†åƒåœ¾ï¼ˆå¯ä»¥è‡ªè¡Œå¯¹æ¯”ï¼‰
 * æ–°å¢ + å…³é—­4ç§’å†…ä¸»åŠ¨å¼¹å‡ºçš„ã€è®¾å¤‡ç®¡ç†ã€‘ã€ã€æ–°åŠŸèƒ½æµ‹è¯•ã€‘ã€ã€åœ¨çº¿æ–‡æ¡£ã€‘ã€ã€åœ¨çº¿è§£å‹ã€‘ã€ç­‰ç­‰ã€‚ã€‚ã€‚çª—å£
\************************************************/
(function() {
  'use strict';
  const w = unsafeWindow || window;
  const killWords = /å†…æµ‹|è§£å‹|ä½“éªŒ|è®¾å¤‡|ä¸“(å±|äº«)|åŠ©æ‰‹/;
  const changeFavicon = (link) => {
    let $favicon = document.querySelector('link[rel="shortcut icon"]');
    let $favicon1 = document.querySelector('link[rel="icon"]');
    $favicon ? ($favicon.href = link) : '';
    $favicon1 ? ($favicon1.href = link) : '';
    if (!($favicon || $favicon1)) {
      $favicon = document.createElement('link');
      $favicon.rel = 'icon';
      $favicon.href = link;
      document.head.appendChild($favicon);
    }
  };
  setTimeout(() => {
    //ä¿®æ”¹logo
    changeFavicon(
      'https://tva1.sinaimg.cn/large/008i3skNgy1gssioj5f67g30400403yc.gif'
    );
  }, 100);
  let myvideojs;
  var $ = $ || window.$ || w.$;
  const saveInfo = (a) => {
    GM_setValue('BaiduYunBeautify', JSON.stringify(a));
  };
  //å…¼å®¹ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè¿ç§»æ•°æ®å¹¶ç§»é™¤
  const getInfo = () => {
    return JSON.parse(localStorage.getItem('taozhiyuPanConfig'));
  };
  let oldinfo = getInfo() && !!getInfo().isfrist ? getInfo().isfrist : true;
  localStorage.clear('taozhiyuPanConfig');
  let info = GM_getValue('BaiduYunBeautify')
    ? JSON.parse(GM_getValue('BaiduYunBeautify'))
    : {};
  if (Object.keys(info).length < 3) {
    !info.SetKey && (info.SetKey = true);
    !info.sharePwd && (info.sharePwd = '');
    !info.isFristAutoEnterKey && (info.isFristAutoEnterKey = oldinfo);
    !info.isOldSDK && (info.isOldSDK = false);
    saveInfo(info);
  }
  GM_addStyle(`.phone-banner,
.button-badge,
.wp-share-file__link-ad,
.hx-right-bottom,
.title-wrap > .join-vip,
.title-wrap > .info,
.hx-bottom-wrapper,
.hx-recom-wrapper,
.app-btn,.hx-warp,
.relative-doc-ad-wrapper,
.qr-wrapper,
.cert-tip,
.side-doc-tool-wrapper,
.feedback-wrapper,
.popover-container,
.privilege-box,
.vip-pop-wrap,
.red-point,
.wp-side-options,
.module-header-wrapper > dl > dd[node-type='header-union'],
.yike-entrance,
.find-light-icon,
.newIcon,
.app-download,
.app-notice,
.icon-notice,
.icon-feedback,
.app-feedback,
.web-header-ad-item,
.wp-disk-header__right-item.company-cert,
.bz-doc-tool-dialog-fix,
.ex-wrapper,
.fixed-activity-bar,
.vip-card-wrap,
.btn-img-tips,
.rights-section,
a[title="ä¸¾æŠ¥"],
div[class^="ad-"],
.share-file__link-ad,
.vip-activity-content,
.video-title-right-open-mobile,
.tips{
display:none!important;
width:0!important;
overflow:hidden!important;
}

.after-trans-dialog .info-section {
padding: 99px 0!important;
}

#SetKey{
display: inline-block;
color: #fff;
font-size: 16px;
height: 42px;
line-height: 38px;
margin: 0 25px;
vertical-align: middle;
position: relative;
padding: 0 2px;
cursor: pointer;
}

#SetKey:hover {
opacity: .8;
}

`);
  let t = ' ',
    e = 'text',
    o = 'å»é™¤å°å°¾å·´å¤±è´¥o(â•¥ï¹â•¥)o',
    a = 'body',
    l = 'copy',
    y = true,
    f = (a) => {
      a.style.display = 'none';
      a.style.width = 0;
      a.style.overflow = 'hidden';
    };
  document.querySelector(a).addEventListener(l, function(a) {
    try {
      let l = a.target.value;
      (l = l
        .split(t)
        .filter((t, e) => {
          if (!!t.match(/æ‰‹æœºApp|å¤åˆ¶è¿™æ®µ/)) y = false;
          return y;
        })
        .join('')
        .replace('æå–ç ', ' æå–ç ')),
        a.clipboardData.setData(e, l),
        a.preventDefault(),
        (y = true);
    } catch (a) {
      console.log(o);
    }
  });

  function autoInputCode(callback) {
    navigator.clipboard
      .readText()
      .then((a) => {
        callback(true, a);
      })
      .catch((v) => {
        callback(false, v);
      });
  }

  function checkmodule(argument) {
    var moduleJson = {
      '(': ')',
      '[': ']',
      '{': '}',
      "'": "'",
      '"': '"',
    };
    var testStr = argument;
    var tempSaveArray = testStr.replace(/\\./g, '').match(/['"\[\]\(\)\{\}]/g);
    if (tempSaveArray.length !== 0) {
      var isdan = false;
      var isshuang = false;
      for (var j = 0; j < tempSaveArray.length; j < 0 ? (j = 0) : j++) {
        if (
          j > 0 &&
          moduleJson[tempSaveArray[j - 1]] !== undefined &&
          moduleJson[tempSaveArray[j - 1]] == tempSaveArray[j]
        ) {
          tempSaveArray.splice(j - 1, 2);
          j -= 2;
          isdan = false;
          isshuang = false;
          continue;
        }
        if (isdan || isshuang) {
          var ischanged = false;
          if (isdan) {
            tempSaveArray.splice(j, 1);
            if (tempSaveArray[j] === "'") {
              isdan = false;
            }
            ischanged = true;
          }
          if (isshuang) {
            tempSaveArray.splice(j, 1);
            if (tempSaveArray[j] === '"') {
              isshuang = false;
            }
            ischanged = true;
          }
          if (ischanged) {
            j--;
            continue;
          }
        } else if (tempSaveArray[j] == '"') {
          isshuang = true;
        } else if (tempSaveArray[j] == "'") {
          isdan = true;
        }
      }
      if (tempSaveArray.length) {
        return false;
      } else {
        return true;
      }
    } else {
      return true;
    }
  }

  function retmatchtimes(i, endchar) {
    var txt = '([^' + endchar + ']*' + endchar + '){' + String(i) + '}';
    return txt;
  }

  function getFullFunctions(argument, exp, endchar = '\\}') {
    var matchingtimes = 0;
    try {
      var ret = '';
      while (matchingtimes <= 1000) {
        matchingtimes++;
        var tmp = argument.match(
          new RegExp(exp + retmatchtimes(matchingtimes, endchar), 'gm')
        );
        if (tmp === null) break;
        if (checkmodule(tmp[0])) {
          ret = tmp[0];
          break;
        }
      }
      return ret;
    } catch (e) {
      console.log(e);
      return '';
    }
  }
  if (location.href.indexOf('/share/my') < 0) {
    if (location.href.indexOf('disk/main') > 0) {
      w.taozhiyugetpass = (a) => {
        return info.sharePwd ? info.sharePwd : a;
      };
      w.webpackJsonp.tao = w.webpackJsonp.push;
      w.webpackJsonp.push = (a) => {
        for (var x in a[1]) {
          var e = a[1][x].toString();
          if (e.indexOf('createShareLink') >= 0) {
            var b = getFullFunctions(
                e,
                'createShareLink\\s*:\\s*function\\s*\\([^\\)]+\\)\\s*\\{'
              ),
              c = b.replace(/pwd\s*:\s*\w+/, (a) =>
                a.replace(/\w+$/, (a) => `window.taozhiyugetpass(${a})`)
              );
            var d = e.match(/function\s*\(([^,]+),([^,]+),([^)]+)\)/);
            e = e.replace(b, c); //æ¤å…¥è‡ªå®šä¹‰å¯†ç 
            e = e.replace(/expiredTime\s*:\s*\d/, 'expiredTime:0'); //é»˜è®¤æ— é™æ—¶é•¿
            a[1][x] = new Function(
              d[1],
              d[2],
              d[3],
              e.substring(e.indexOf('{') + 1, e.length - 1)
            );
            break;
          }
        }
        w.webpackJsonp.tao(a);
      };
    } else {
      w.require.async(
        'function-widget-1:share/util/newShare/linkSetting.js',
        function(a) {
          a.a = a.makePrivatePassword;
          a.makePrivatePassword = function() {
            return info.sharePwd ? info.sharePwd : this.a();
          };
        }
      );
    }
    $(document).on('change', '.nd-input-share-pwd', function() {
      var value = this.value;
      if (value && !/[^\W_]{4}/.test(value)) {
        w.require &&
          w.require('system-core:system/uiService/tip/tip.js').show({
            mode: 'failure',
            msg: 'æå–ç ä¸åˆè§„èŒƒï¼Œåªèƒ½æ˜¯å››ä½å­—æ¯æ•°å­—ç»„åˆ',
          });
      } else {
        info.sharePwd = value;
        saveInfo(info);
      }
    });
    ['.share-file__link-expired', '.wp-share-file__link-expired'].forEach(
      (x) => {
        $(document).on('DOMNodeInserted', x, () => {
          if ($('.nd-input-share-pwd').length == 0) {
            setTimeout(() => {
              var o = document.querySelector('#g-select-1');
              if (o !== null) {
                o.querySelector('.g-select-inner').click();
                var event = new CustomEvent('mousedown', { bubbles: 'true' });
                o.querySelector('#g-select-1 [data-value="0"]').dispatchEvent(
                  event
                );
              }
            }, 200);
            var html =
              '<div style="margin:10px;"></div><div class="share-file__link-expired-title wp-share-file__link-expired-title">è‡ªå®šä¹‰åˆ†äº«å¯†ç </div>';
            html +=
              '<div class="wp-share-file__link-pwd share-file__link-pwd"><div class="wp-share-file__link-expired-label inline-block-v-middle share-file__link-pwd-label">æå–ç </div>';
            html +=
              '<input type="text" class="nd-input-share-pwd" value="' +
              (info.sharePwd ? info.sharePwd : '') +
              '" placeholder="ä¸ºç©ºåˆ™éšæœºå››ä½" style="margin-left: 16px; width: 120px; height: 32px; line-height: 28px; border: 1px solid #D4D7DE; border-radius: 8px; text-align: left; padding-left: 12px"></div>';
            $(x).after(html);
          }
        });
      }
    );
  }
  if (location.href.indexOf('baidu.com/disk') >= 0) {
    let id1 = true,
      id2 = true,
      id3 = true;
    let id = setInterval(() => {
      //å†…æµ‹
      if (
        id1 &&
        document.querySelector('.wp-guide-dialog-content-title') &&
        document
          .querySelector('.wp-guide-dialog-content-title')
          .innerText.match(killWords)
      ) {
        document.querySelector('.wp-guide-dialog-close').click();
        id1 = false;
      }
      //ä¼ä¸šç”¨æˆ·ä¸“äº«ã€Œå®¢æˆ·æé€Ÿä¸‹è½½åˆ¸ã€
      if (
        id2 &&
        document.querySelector('.nd-dialog-cert__header-title') &&
        document
          .querySelector('.nd-dialog-cert__header-title')
          .innerText.match(killWords)
      ) {
        document
          .querySelector('.nd-dialog-cert__header-title')
          .parentElement.parentElement.parentElement.parentElement.querySelector(
            '.u-dialog__headerbtn'
          )
          .click();
        id1 = false;
      }
      //è®¾å¤‡
      if (
        id3 &&
        document.querySelector('.wp-aside-nav-bubble-title') &&
        document
          .querySelector('.wp-aside-nav-bubble-title')
          .innerText.match(killWords)
      ) {
        document.querySelector('.wp-aside-nav-bubble-close').click();
        id1 = false;
      }
      if (!id1 && !id2 && !id3) clearInterval(id);
      // document.querySelectorAll(".pdf2word-tip-close-btn").forEach(a=>{a.click()});
      // document.querySelectorAll(".dialog-close").forEach(a=>{a.click()});
      // document.querySelectorAll(".close-mask").forEach(a=>{a.click()});
      // document.querySelectorAll(".common-dialog-close").forEach(a=>{a.click()});
      // document.querySelectorAll(".wp-guide-dialog-close").forEach(a=>{a.click()});
      // document.querySelectorAll(".wp-tip-close-btn").forEach(a=>{a.click()});
      // document.querySelectorAll(".guide-dialog-close").forEach(a=>{a.click()});
      // document.querySelectorAll(".wp-disk-header__right-item").forEach((a)=>{if(a.href&&!!a.href.match(/buy|addnew/)){f(a);}});
    }, 10);
    setTimeout(() => {
      clearInterval(id);
    }, 20000);
    window.addEventListener('mouseup', (a) => {
      if (a.target.title !== 'åˆ†äº«') {
        return;
      }
      let id2 = setInterval(() => {
        const x = document.querySelectorAll('.share-file__link-ad');
        if (!x) {
          return;
        }
        x.forEach((a) => {
          f(a);
        });
        setTimeout(() => {
          clearInterval(id2);
        }, 100);
      }, 10);
    });
  } else if (location.href.indexOf('play/video') >= 0) {
    var alreadytoast = false;
    let isVIP = w.require('base:widget/vip/vip.js').getVipValue() > 0;
    let killedVIP = false;
    w.require.async(
      'file-widget-1:videoPlay/HTML5Player/HTML5Player.js',
      (a) => {
        a.prototype.antiSpam = () => {};
      }
    );
    var Myasync = setInterval(() => {
      w.require.async('file-widget-1:videoPlay/context.js', function(a) {
        var tmpContext = a.getContext();
        if (!tmpContext) {
          return;
        }
        a.getContext().locals.set('is_svip', 1);
        a.getContext().locals.set('vip_level', 'âˆ');
        if (tmpContext.useNewSDK !== undefined) {
          tmpContext.useNewSDK = !info.isOldSDK;
          a.setContext(tmpContext);
          clearInterval(Myasync);
        }
      });
    }, 100);
    const getmyvideo = (a) => {
      if (!myvideojs) return false;
      if (!myvideojs.players) {
        if (myvideojs.getPlayers && myvideojs.getPlayers()) {
          if (!!myvideojs.getPlayers()[a]) return myvideojs.getPlayers()[a];
          else return false;
        } else {
          try {
            if (!!myvideojs(a)) return myvideojs(a);
            else return false;
          } catch (e) {
            return false;
          }
        }
      } else {
        if (!!myvideojs.players[a]) return myvideojs.players[a];
        else return false;
      }
    };

    function loadscript(url) {
      var script = document.createElement('script');
      script.type = 'text/javacript';
      script.src = url;
      document.body.appendChild(script);
    }
    !isVIP &&
      w
        .require('system-core:system/uiService/tip/tip.js')
        .show({ mode: 'loading', msg: `ç­‰å¾…å¹¿å‘ŠåŠ è½½ç»“æŸ` });
    let hasremoved = false,
      id = setInterval(() => {
        if ((myvideojs = myvideojs || w.videoPlayer)) {
          !isVIP &&
            !hasremoved &&
            (loadscript(
              'https://pannss.bdstatic.com/m-static/base/thirdParty/videojs/_nomd5_nomod/video_20210315.js'
            ),
            (hasremoved = true));
          if (!!getmyvideo('html5player')) {
            let vid =
              getmyvideo('html5player').tag ||
              getmyvideo('html5player').tech_.el_;
            clearInterval(id);
            if (document.pictureInPictureEnabled) {
              GM_addStyle(`
.video-functions-tips{
margin-top: -69px;
}`);
              vid.disablePictureInPicture = false;
              let li = document.createElement('li');
              li.id = 'ChangeSDK';
              li.innerHTML = `<svg t="1620441372115" style="width: 26px;height: 24px;margin-top: -7px;" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1317" width="48" height="48"><path d="M641.28 884.736V784.64a10.624 10.624 0 0 1 11.008-10.624h231.552a11.008 11.008 0 0 0 11.008-11.008v-36.864a11.008 11.008 0 0 0-11.008-11.008H472.96a11.008 11.008 0 0 0-7.424 18.816l156.992 157.184a11.008 11.008 0 0 0 18.816-6.4z m59.264-464.64v99.84a10.624 10.624 0 0 1-11.008 11.008H461.504a11.008 11.008 0 0 0-11.008 11.008v36.48a11.008 11.008 0 0 0 11.008 11.008h408.128a10.624 10.624 0 0 0 7.872-18.432l-156.992-156.992a11.008 11.008 0 0 0-20.032 6.4z" p-id="1318" fill="#ffffff"></path><path d="M817.152 128H206.528a78.464 78.464 0 0 0-78.464 78.464v602.752a78.464 78.464 0 0 0 78.464 78.464h229.568v-53.76H237.248a54.912 54.912 0 0 1-54.912-54.912V235.904a54.912 54.912 0 0 1 54.912-54.912h546.304a55.36 55.36 0 0 1 54.912 54.912v156.672a9.024 9.024 0 0 0 9.024 9.024h39.232a9.024 9.024 0 0 0 9.024-9.024V206.144a78.464 78.464 0 0 0-78.912-78.464z" p-id="1319" fill="#ffffff"></path></svg><span style="margin-top: -4px;">åˆ‡è‡³${
                info.isOldSDK ? 'æ–°' : 'æ—§'
              }ç‰ˆ</span>`;
              document.querySelector('ul.tips-ul.three-items').append(li);
              document.querySelector('#ChangeSDK').onclick = () => {
                info.isOldSDK = !info.isOldSDK;
                saveInfo(info);
                setTimeout(() => {
                  location.reload();
                }, 1000);
              };

              li = document.createElement('li');
              li.id = 'PInP_tao';
              li.innerHTML =
                '<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1168" style="width: 26px;height: 24px;margin-top: -7px;"><path d="M782 273H242v478h179v0.31a40.338 40.338 0 0 1 4.339-0.305L426 751c22.091 0 40 17.909 40 40s-17.909 40-40 40c-1.693 0-3.362-0.105-5-0.31v0.31H222c-33.137 0-60-26.863-60-60V253c0-33.137 26.863-60 60-60h580c33.137 0 60 26.863 60 60v176c0 22.091-17.909 40-40 40s-40-17.909-40-40V273z m20 263c33.137 0 60 26.863 60 60v175c0 33.137-26.863 60-60 60H588c-33.137 0-60-26.863-60-60V596c0-33.137 26.863-60 60-60h214z m-20 80H608v135h174V616z" p-id="1169" fill="#ffffff"></path></svg><span style="margin-top: -4px;">ç”»ä¸­ç”»</span>';
              document.querySelector('ul.tips-ul.three-items').append(li);
              document.querySelector('#PInP_tao').onclick = () => {
                var Observer;
                if (!document.pictureInPictureElement) {
                  Observer = new MutationObserver(function(
                    mutations,
                    instance
                  ) {
                    if (document.pictureInPictureElement) {
                      if (
                        getmyvideo('html5player').el_.classList.value.indexOf(
                          'vjs-fullscreen'
                        ) >= 0
                      ) {
                        // console.log("è¿›å…¥å…¨å±ï¼Œå…³é—­ç”»ä¸­ç”»");
                        document
                          .exitPictureInPicture()
                          .catch((e) =>
                            console.warn(
                              'ä¸ä¼šå§ä¸ä¼šå§ï¼Œå¼€å¯æ²¡å¤±è´¥ï¼Œå–æ¶ˆåè€Œå¤±è´¥äº†ï¼Ÿ',
                              e
                            )
                          );
                        Observer &&
                          (Observer.disconnect(), (Observer = undefined));
                      }
                    } else
                      Observer &&
                        (Observer.disconnect(), (Observer = undefined));
                  });

                  Observer.observe(getmyvideo('html5player').el_, {
                    attributes: true,
                    attributeFilter: ['class'],
                  });
                  vid
                    .requestPictureInPicture()
                    .catch((e) => console.warn('ç”»ä¸­ç”»å¼€å¯å¤±è´¥ï¼š', e));
                } else {
                  document
                    .exitPictureInPicture()
                    .catch((e) =>
                      console.warn(
                        'ä¸ä¼šå§ä¸ä¼šå§ï¼Œå¼€å¯æ²¡å¤±è´¥ï¼Œå–æ¶ˆåè€Œå¤±è´¥äº†ï¼Ÿ',
                        e
                      )
                    );
                  Observer && (Observer.disconnect(), (Observer = undefined));
                }
              };
            } else console.log('å¾ˆé—æ†¾ï¼Œä¸æ”¯æŒç”»ä¸­ç”»åŠŸèƒ½');

            if (info.isOldSDK) {
              var createEl = myvideojs.createEl,
                Menu = myvideojs.getComponent('Menu'),
                PlaybackRateMenuItem = myvideojs.getComponent(
                  'PlaybackRateMenuItem'
                );

              function inheritsLoose(subClass, superClass) {
                subClass.prototype = Object.create(superClass.prototype);
                subClass.prototype.constructor = subClass;
                subClass.__proto__ = superClass;
              }
              var PlaybackRateMenuButton = (function(_MenuButton) {
                inheritsLoose(PlaybackRateMenuButton, _MenuButton);

                function PlaybackRateMenuButton(player, options) {
                  var _this;

                  _this = _MenuButton.call(this, player, options) || this;

                  _this.updateVisibility();

                  _this.updateLabel();

                  _this.on(player, 'loadstart', _this.updateVisibility);

                  _this.on(player, 'ratechange', _this.updateLabel);

                  return _this;
                }

                var _proto = PlaybackRateMenuButton.prototype;

                _proto.createEl = function() {
                  var el = _MenuButton.prototype.createEl.call(this);

                  this.labelEl_ = createEl('div', {
                    className: 'vjs-playback-rate-value',
                    innerHTML: '1x',
                  });
                  el.appendChild(this.labelEl_);
                  return el;
                };

                _proto.dispose = function dispose() {
                  this.labelEl_ = null;

                  _MenuButton.prototype.dispose.call(this);
                };

                _proto.buildCSSClass = function buildCSSClass() {
                  return (
                    'vjs-playback-rate ' +
                    _MenuButton.prototype.buildCSSClass.call(this)
                  );
                };

                _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {
                  return (
                    'vjs-playback-rate ' +
                    _MenuButton.prototype.buildWrapperCSSClass.call(this)
                  );
                };

                _proto.createMenu = function createMenu() {
                  var menu = new Menu(this.player());
                  var rates = this.playbackRates();

                  if (rates) {
                    for (var i = rates.length - 1; i >= 0; i--) {
                      menu.addChild(
                        new PlaybackRateMenuItem(this.player(), {
                          rate: rates[i],
                        })
                      );
                    }
                  }

                  return menu;
                };

                _proto.updateARIAAttributes = function updateARIAAttributes() {
                  this.el().setAttribute(
                    'aria-valuenow',
                    this.player().playbackRate()
                  );
                };

                _proto.handleClick = function handleClick(event) {
                  var currentRate = this.player().playbackRate();
                  var rates = this.playbackRates();

                  var newRate = rates[0];

                  for (var i = 0; i < rates.length; i++) {
                    if (rates[i] > currentRate) {
                      newRate = rates[i];
                      break;
                    }
                  }

                  this.player().playbackRate(newRate);
                };

                _proto.playbackRates = function playbackRates() {
                  return isVIP
                    ? [0.5, 0.75, 1, 1.5, 2, 2.7, 4]
                    : [0.5, 0.75, 1, 1.5, 2, 3];
                };

                _proto.playbackRateSupported = function playbackRateSupported() {
                  return (
                    this.player().tech_ &&
                    this.player().tech_.featuresPlaybackRate &&
                    this.playbackRates() &&
                    this.playbackRates().length > 0
                  );
                };

                _proto.updateVisibility = function updateVisibility(event) {
                  if (this.playbackRateSupported()) {
                    this.removeClass('vjs-hidden');
                  } else {
                    this.addClass('vjs-hidden');
                  }
                };

                _proto.updateLabel = function updateLabel(event) {
                  if (this.playbackRateSupported()) {
                    this.labelEl_.innerHTML =
                      'X' + this.player().playbackRate();
                  }
                };

                return PlaybackRateMenuButton;
              })(myvideojs.getComponent('MenuButton'));

              PlaybackRateMenuButton.prototype.controlText_ = isVIP
                ? 'åªæ˜¯ä¸ºäº†æ·»åŠ å¿«æ·é”®æ‰æ›¿æ¢çš„å®˜æ–¹æŒ‰é’®'
                : 'æ’­æ”¾é€Ÿç‡ï¼Œ\næ¶›ä¹‹é›¨ç‹¬å®¶è§£é”VIP\néVIPæœåŠ¡å™¨é™é€Ÿï¼Œå› æ­¤æœ€å¤§é€Ÿç‡ä¸º3å€ï¼Œ\nè´­ä¹°ç™¾åº¦äº‘ä¼šå‘˜è§£é”æ›´é«˜å€ç‡ï¼ˆå¯ä»¥é€šè¿‡å¿«æ·é”®è°ƒæ•´å°è¯•æ”¹é«˜ï¼‰';
              myvideojs.registerComponent('Myplayback', PlaybackRateMenuButton);

              getmyvideo('html5player').controlBar.removeChild(
                'playbackRateMenu'
              );
              if (!document.querySelector('.level-2,.level-1')) {
                //ä¼šå‘˜ä¸ç”¨ç­‰å¾…å¹¿å‘Š
                var aid = setInterval(() => {
                  if (
                    !getmyvideo('html5-werbung-player') ||
                    getmyvideo(
                      'html5-werbung-player'
                    ).el_.classList.value.indexOf('vjs-paused') >= 0
                  ) {
                    clearInterval(aid);
                    getmyvideo('html5player').controlBar.addChild(
                      'Myplayback',
                      {},
                      6
                    );
                  }
                }, 500);
              } else {
                GM_addStyle(`
.video-js .vjs-playback-rate{
	line-height: 2em;
font-size: 1.4em;
}
.vjs-workinghover .vjs-menu-button-popup:hover .vjs-menu{
	margin-bottom: 0.67em!important;
}`);
                getmyvideo('html5player').controlBar.addChild(
                  'Myplayback',
                  {},
                  6
                );
              }
            }
            var SetKey = document.createElement('sapn');
            SetKey.id = 'SetKey';
            SetKey.innerHTML =
              'å¿«æ·é”®å·²' + (info.SetKey === true ? 'æ‰“å¼€ã€âˆšã€‘' : 'å…³é—­ã€Ã—ã€‘');
            SetKey.title = ` * åœ¨æ’­æ”¾ç•Œé¢ï¼Œæ–°å¢å¿«æ·é”®æ§åˆ¶æ’­æ”¾é€Ÿåº¦ï¼š
* ï¼ˆshifté”®æ— è®ºæ˜¯å¦æŒ‰ä¸‹ï¼Œï¼‰æŒ‰æ•°å­—ã€0ã€‘å³å¯æ¢å¤æ­£å¸¸é€Ÿåº¦ï¼ˆåŸé€Ÿå¿«æ·é”®ï¼‰
* æŒ‰ä¸‹æ•°å­—ã€1-9ã€‘å¯ä»¥åˆ†åˆ«è°ƒæ•´é€Ÿåº¦ä¸ºã€1.25,1.5,1.75,2,2.4,2.7,4,6,8ã€‘ï¼ˆå€é€Ÿå¿«æ·é”®ï¼‰
* æŒ‰ä¸‹ã€shiftã€‘åå†æŒ‰ä¸‹æ•°å­—ã€1-9ã€‘å¯ä»¥åˆ†åˆ«è°ƒæ•´é€Ÿåº¦ä¸ºã€0.1,0.15,0.2,0.25,0.3,0.5,0.6,0.8,0.9ã€‘ï¼ˆæ…¢é€Ÿå¿«æ·é”®ï¼‰
* ï¼ˆshifté”®æ— è®ºæ˜¯å¦æŒ‰ä¸‹ï¼Œï¼‰æ¯æ¬¡æŒ‰ä¸‹ã€-ã€‘ï¼Œå½“å‰é€Ÿç‡å‡å°0.1
* ï¼ˆshifté”®æ— è®ºæ˜¯å¦æŒ‰ä¸‹ï¼Œï¼‰æ¯æ¬¡æŒ‰ä¸‹ã€=ã€‘ï¼Œå½“å‰é€Ÿç‡å¢åŠ 0.1`;
            document
              .querySelector('dd[node-type="header-link"]')
              .append(SetKey);
            document.querySelector('#SetKey').onclick = (a) => {
              info.SetKey = !info.SetKey;
              a.target.innerHTML =
                'å¿«æ·é”®å·²' + (info.SetKey === true ? 'æ‰“å¼€ã€âˆšã€‘' : 'å…³é—­ã€Ã—ã€‘');
              saveInfo(info);
            };
            var safeTime = false;
            document.onkeydown = function(e) {
              if (safeTime || !info.SetKey) return;
              safeTime = true;
              var k = e.keyCode || e.which || e.charCode;
              var p = getmyvideo('html5player').tech_.playbackRate();
              if (k === 48) p = 1;
              else if (k >= 49 && k <= 57)
                p = (!e.shiftKey
                  ? [1.25, 1.5, 1.75, 2, 2.4, 2.7, 4, 6, 8]
                  : [0.1, 0.15, 0.2, 0.25, 0.3, 0.5, 0.6, 0.8, 0.9])[k - 49];
              else if (k === 189) p -= 0.1;
              else if (k === 187) p += 0.1;
              getmyvideo('html5player').tech_.setPlaybackRate(
                parseFloat(p.toFixed(2))
              );
              setTimeout(() => {
                safeTime = false;
              }, 50);
            };
            getmyvideo('html5player').el_.onmouseenter = (a) => {
              let b = a.target;
              b.classList.remove('vjs-user-inactive');
              b.classList.add('vjs-user-active');
            };
            getmyvideo('html5player').el_.onmouseleave = (a) => {
              let b = a.target;
              b.classList.add('vjs-user-inactive');
              b.classList.remove('vjs-user-active');
            };
            w.require('system-core:system/uiService/tip/tip.js').show({
              vipType: 'svip',
              mode: 'success',
              msg: `æ¶›ä¹‹é›¨æ’ä»¶åŠ è½½æˆåŠŸï¼æ•¬è¯·äº«å—å¿«æ·é”®ã€ç”»ä¸­ç”»${
                isVIP ? '' : 'ã€è§£é”å€é€Ÿå’Œé«˜ç”»è´¨çš„å¿«æ„Ÿï¼'
              }`,
            });
          }
        }
      }, 500);
  } else if (location.href.indexOf('share/init') >= 0) {
    if (info.isFristAutoEnterKey) {
      info.isFristAutoEnterKey = false;
      saveInfo(info);
      var m = document.createElement('div');
      m.style =
        'position: fixed;left: 0px;top: 0px;z-index: 50;background: rgb(0, 0, 0);opacity: 0.7;font-size: 30px;width: 100%;line-height: 2;display: flex;height: 100%;align-items: center;justify-content: center;flex-direction: column;color: wheat;flex-wrap: wrap;';
      m.id = 'taozhiyuMask';
      m.innerHTML =
        '<p>ä¸ºäº†ä¾¿äºè‡ªåŠ¨è·å–æå–ç </p><p>è¯·åœ¨å¼¹å‡ºæ¡†å†…ç‚¹å‡»å…è®¸</p><p>å¦åˆ™ä»…èƒ½æ‰‹åŠ¨è¾“å…¥/ç²˜è´´</p><br><p style="font-size: 14px;line-height: 1;">è¯¥ä¿¡æ¯ä»…åœ¨ç¬¬ä¸€æ¬¡æ‰“å¼€æ—¶å‡ºç°ï¼Œç‚¹å‡»å±å¹•æ¶ˆå¤±</p>';
      document.querySelector('body').append(m);
      m.onclick = () => {
        m.remove();
      };
    }
    let autoCheck = setInterval(() => {
      navigator.permissions.query({ name: 'clipboard-read' }).then((result) => {
        if (result.state == 'granted' || result.state == 'prompt') {
          autoInputCode((c, a) => {
            if (c) {
              let b;
              if (/^\s*[a-z\d]{4}\s*$/.test(a)) b = a;
              else
                b = a.match(
                  /(?:å¯†|æå–|è®¿é—®|è¨ªå•)[ç¢¼ç ]?\s*[:ï¼š]?\s*([a-z\d]{4})/
                );
              if (!!b) {
                b = typeof b === 'string' ? b : b[1];
                b = b.replace(/\s*/g, '');
                console.log('åŒ¹é…åˆ°å¯†ç ï¼š', b);
                clearInterval(autoCheck);
                document.querySelector('#accessCode').value = b;
                document.querySelector('#submitBtn').click();
              } else {
                console.log('æœªåŒ¹é…åˆ°å¸¸è§å¯†ç ');
              }
            } else {
              clearInterval(autoCheck);
              console.log(
                'ä¸è®©æˆ‘è¯»å–å‰ªè´´æ¿ä½ å°±è‡ªå·±ç²˜è´´å»\n\nâ•­(â•¯^â•°)â•®å“¼\n\nå¦‚æœæ˜¯è¯¯æ“ä½œè¯·åˆ°â€œchrome://settings/content/clipboardâ€å…è®¸è„šæœ¬è¯»å–å‰ªè´´æ¿'
              );
            }
          });
        } else {
          clearInterval(autoCheck);
          console.log(
            'ä¸è®©æˆ‘è¯»å–å‰ªè´´æ¿ä½ å°±è‡ªå·±ç²˜è´´å»\n\nâ•­(â•¯^â•°)â•®å“¼\n\nå¦‚æœæ˜¯è¯¯æ“ä½œè¯·åˆ°â€œchrome://settings/content/clipboardâ€å…è®¸è„šæœ¬è¯»å–å‰ªè´´æ¿'
          );
        }
      });
    }, 1000);
  }
})();
```

:::

[Github é•œåƒè®¿é—®ï¼ŒåŠ é€Ÿä¸‹è½½](https://greasyfork.org/zh-CN/scripts/398278-github-%E9%95%9C%E5%83%8F%E8%AE%BF%E9%97%AE-%E5%8A%A0%E9%80%9F%E4%B8%8B%E8%BD%BD)

::: details è„šæœ¬å¤‡ä»½

```js
// ==UserScript==
// @icon         https://github.githubassets.com/favicon.ico
// @name         Github é•œåƒè®¿é—®ï¼ŒåŠ é€Ÿä¸‹è½½
// @namespace    https://github.com/jadezi/github-accelerator/
// @version      1.1.5
// @description  GitHub é•œåƒï¼Œgithub åŠ é€Ÿ
// @author       jadezi
// @license      GPL License
// @match        *://github.com/*
// @require      https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js
// @resource     mycss https://gitee.com/jadezi/github-accelerator-css/raw/master/index.css
// @grant        GM_addStyle
// @grant        GM_setClipboard
// @grant        GM_getResourceText
// @grant        GM_getValue
// @grant        GM_setValue
// @grant        GM_registerMenuCommand
// @grant        GM_openInTab
// ==/UserScript==

(function() {
  var clone = true;
  // var clone = false;
  var depth = true;
  // var depth = false;
  var hide = true;

  var location = window.location.href;
  var mirror_url1 = 'https://' + 'github.com.cnpmjs.org';
  var mirror_url2 = 'https://' + 'hub.fastgit.org';
  var mirror_url3 = 'https://' + 'github.wuyanzheshui.workers.dev';
  var download_url1 = 'https://download.fastgit.org';
  var str1 = '';

  if (clone) {
    str1 += 'git clone ';
    if (depth) {
      str1 += '--depth=1 ';
    }
  }

  var a = location.split('/');
  var b = a[5] === 'wiki' ? '.wiki' : '';
  var str2 = '/' + a[3] + '/' + a[4] + b + '.git';
  var clone_utl1 = str1 + mirror_url1 + str2;
  var clone_utl2 = str1 + mirror_url2 + str2;
  var str3 = window.location.pathname;
  var web_url1 = mirror_url1 + str3;
  var web_url2 = mirror_url2 + str3;
  var web_url3 = mirror_url3 + str3;
  // é•œåƒé¢æ¿ä»£ç 
  var info = `
    <div class="user-ment">
    <button class="btn btn-primary" type="button" id="mirror-btn">é•œåƒç½‘å€</button>
    <div class="collapse multi-collapse" id="collapse">
    <div class="user-card user-card-body">
    <div class="user-alert user-alert-warning" role="alert">cloneã€depthå‘½ä»¤çš„æ’å…¥å¯æ‰‹åŠ¨ç¼–è¾‘ä»£ç å…³é—­</div>
    <div class="user-alert user-alert-danger" role="alert">é•œåƒåœ°å€è¯·ä¸è¦ç™»é™†è‡ªå·±çš„è´¦æˆ·ï¼Œé€ æˆæŸå¤±æœ¬äººæ¦‚ä¸è´Ÿè´£</div>
    <div class="user-input-group user-mb-3">
    <div class="user-input-group-prepend"><span class="user-input-group-text" id="inputGroup-sizing-default">å¿«é€Ÿå…‹éš†1:</span></div>
    <input id="clone_case_1" type="text" value="${clone_utl1}" data-autoselect="" class="user-form-control" aria-label="å°†æ­¤å­˜å‚¨åº“å…‹éš†åˆ° ${clone_utl1}" readonly aria-describedby="inputGroup-sizing-default">
    <div class="user-input-group-append">
    <button class="btn btn-outline-secondary" type="button" id="button-copy1"  data-container="body" data-toggle="popover" data-placement="bottom" data-content="å¤åˆ¶æˆåŠŸ">å¤åˆ¶</button>
    </div>
    <button class="btn btn-outline-secondary" type="button" id="quickViewOne" href="${web_url1}" class="btn">å¿«é€Ÿæµè§ˆ1</button>
    </div>
    <div class="user-input-group user-mb-3">
    <div class="user-input-group-prepend">
    <span class="user-input-group-text" id="inputGroup-sizing-default">å¿«é€Ÿå…‹éš†2:</span>
    </div>
    <input id="clone_case_2" type="text" value="${clone_utl2}" data-autoselect="" class="user-form-control" aria-label="å°†æ­¤å­˜å‚¨åº“å…‹éš†åˆ° ${clone_utl2}" readonly aria-describedby="inputGroup-sizing-default" >
    <div class="user-input-group-append">
    <button class="btn btn-outline-secondary" type="button" id="button-copy2"  data-container="body" data-toggle="popover" data-placement="bottom" data-content="å¤åˆ¶æˆåŠŸ">å¤åˆ¶</button>
    </div>
    <button class="btn btn-outline-secondary" type="button" id="quickViewOther" class="btn">å¿«é€Ÿæµè§ˆ2</button>
    </div>
    <div class="user-input-group user-mb-3">
    <div class="user-input-group-prepend">
    <span class="user-input-group-text" id="inputGroup-sizing-default">å¿«é€Ÿå…‹éš†3:</span>
    </div>
    <input type="text" data-autoselect="" class="user-form-control" aria-describedby="inputGroup-sizing-default" value="ä¸æ”¯æŒclone,ç›´æ¥è·³è½¬--->" aria-label="" readonly="" >
    <button type="button" id="quickViewAnthor" class="btn">å¿«é€Ÿæµè§ˆ3</button>
    </div>
    </div>
    </div>
    </div>`;

  $('.repository-content').prepend(info);
  $('.Box.Box--condensed').each(function() {
    // ä¿®æ”¹æºä»£ç ä¸‹è½½æ æ ·å¼
    $(this)
      .find('.d-block.py-1.py-md-2.Box-body.px-2')
      .addClass('d-flex flex-justify-between');
    // ä¿®æ”¹æ–‡ä»¶å¤§å°å¯¹é½æ–¹å¼
    $('.pl-2.color-text-secondary.flex-shrink-0').css({
      display: 'flex',
      'flex-grow': 1,
      'justify-content': 'flex-end',
    });
    $(this)
      .find('.d-flex.Box-body')
      .each(function() {
        var href = $(this)
          .children('a')
          .attr('href');
        var url1 = download_url1 + href;
        var url2 = mirror_url3 + href;
        var div1 = `<div class="user_download" style="display: flex;justify-content: flex-end;margin-left:9px"><div><a style="padding:4px;"  class="btn user-btn-link"  href="${url1}" rel="nofollow">å¿«é€Ÿä¸‹è½½1</a></div><div><a style="padding:4px"   class="btn user-btn-link" href="${url2}" rel="nofollow">å¿«é€Ÿä¸‹è½½2(æ¨è)</a></div></div>`;
        $(this).append(div1);
      });
  });
  // Fast downloadä¸‹è½½æŒ‰é’®
  $('.dropdown-menu .list-style-none li:last').each(function() {
    var url1 = mirror_url3 + '/' + a[3] + '/' + a[4] + '/archive/master.zip';
    var span1 = `<li class="Box-row Box-row--hover-gray p-0"><a class="d-flex flex-items-center text-gray-dark text-bold no-underline p-3" rel="nofollow" href="${url1}">Fast Download ZIP</a></li>`;
    $(this).after(span1);
  });
  // å¤åˆ¶æŒ‰é’®
  $('#button-copy1').on('click', function() {
    GM_setClipboard($('#clone_case_1').val());
    alert('å¤åˆ¶æˆåŠŸ');
  });
  $('#button-copy2').on('click', function() {
    GM_setClipboard($('#clone_case_2').val());
    alert('å¤åˆ¶æˆåŠŸ');
  });
  //é¡µé¢è·³è½¬
  $('#quickViewOne').on('click', function() {
    window.location.href = web_url1;
  });
  $('#quickViewOther').on('click', function() {
    window.location.href = web_url2;
  });
  $('#quickViewAnthor').on('click', function() {
    window.location.href = web_url3;
  });
  // éšè—é¢æ¿
  $('#mirror-btn').on('click', function() {
    if (!hide) {
      $('#collapse').hide();
    } else {
      $('#collapse').show();
    }
    hide = !hide;
  });
  function mirrorBtnEvent() {
    if (!GM_getValue('mirror')) {
      $('#collapse').hide();
    } else {
      $('#collapse').show();
    }
  }
  function menuHideMirrorCollapse() {
    GM_setValue('mirror', !GM_getValue('mirror'));
    mirrorBtnEvent();
    console.log(GM_getValue('mirror'));
  }
  function init() {
    mirrorBtnEvent();
  }
  // æ³¨å†Œèœå•
  GM_registerMenuCommand(
    `ã€ğŸ””éšè— & æ˜¾ç¤ºé•œåƒä¿¡æ¯é¢æ¿ã€‘`,
    menuHideMirrorCollapse
  );
  GM_registerMenuCommand(`ã€ğŸ“¢æ„è§ & åé¦ˆã€‘`, function() {
    window.GM_openInTab(
      'https://github.com/jadezi/github-accelerator/issues/new',
      { active: true, insert: true, setParent: true }
    );
  });
  // åˆå§‹åŒ–é¢æ¿
  init();
  GM_addStyle(GM_getResourceText('mycss'));
})();
```

:::

[Github å¢å¼º - é«˜é€Ÿä¸‹è½½](https://greasyfork.org/zh-CN/scripts/412245-github-%E5%A2%9E%E5%BC%BA-%E9%AB%98%E9%80%9F%E4%B8%8B%E8%BD%BD)

::: details è„šæœ¬å¤‡ä»½

```js
// ==UserScript==
// @name         Github å¢å¼º - é«˜é€Ÿä¸‹è½½
// @version      1.7.1
// @author       X.I.U
// @description  é«˜é€Ÿä¸‹è½½ Git Clone/SSHã€Releaseã€Rawã€Code(ZIP) ç­‰æ–‡ä»¶ã€é¡¹ç›®åˆ—è¡¨å•æ–‡ä»¶å¿«æ·ä¸‹è½½ (â˜)
// @match        *://github.com/*
// @match        *://hub.fastgit.org/*
// @icon         https://i.loli.net/2021/03/30/ULV9XunaHesqGIR.png
// @grant        GM_registerMenuCommand
// @grant        GM_unregisterMenuCommand
// @grant        GM_openInTab
// @grant        GM_getValue
// @grant        GM_setValue
// @grant        GM_notification
// @license      GPL-3.0 License
// @run-at       document-end
// @namespace    https://greasyfork.org/scripts/412245
// @supportURL   https://github.com/XIU2/UserScript
// @homepageURL  https://github.com/XIU2/UserScript
// ==/UserScript==

(function() {
  'use strict';
  var backColor = '#ffffff',
    fontColor = '#888888';
  if (
    document.getElementsByTagName('html')[0].getAttribute('data-color-mode') ===
    'dark'
  ) {
    // é»‘æš—æ¨¡å¼åˆ¤æ–­
    if (
      document
        .getElementsByTagName('html')[0]
        .getAttribute('data-dark-theme') === 'dark_dimmed'
    ) {
      backColor = '#272e37';
      fontColor = '#768390';
    } else {
      backColor = '#161a21';
      fontColor = '#97a0aa';
    }
  } else if (
    document.getElementsByTagName('html')[0].getAttribute('data-color-mode') ===
    'auto'
  ) {
    if (
      window.getComputedStyle(document.body).backgroundColor ===
      'rgb(34, 39, 46)'
    ) {
      backColor = '#272e37';
      fontColor = '#768390';
    } else if (
      window.getComputedStyle(document.body).backgroundColor ===
      'rgb(13, 17, 23)'
    ) {
      backColor = '#161a21';
      fontColor = '#97a0aa';
    }
  }
  const download_url = [
      ['https://pd.zwc365.com/seturl/https://github.com', 'ç¾å›½ 1'],
      ['https://gh.xiu2.xyz/https://github.com', 'ç¾å›½ 2'],
      ['https://gh.api.99988866.xyz/https://github.com', 'ç¾å›½ 3'],
      ['https://github.rc1844.workers.dev', 'ç¾å›½ 4'],
      ['https://download.fastgit.org', 'æ—¥æœ¬'],
      ['https://ghproxy.com/https://github.com', 'éŸ©å›½'],
      ['https://ghproxy.fsou.cc/https://github.com', 'é¦™æ¸¯'],
    ],
    clone_url = [
      ['https://hub.fastgit.org', 'ä¸­å›½é¦™æ¸¯'],
      ['https://gitclone.com', 'ä¸­å›½æµ™æ±Ÿ'],
      ['https://github.com.cnpmjs.org', 'æ–°åŠ å¡'],
    ],
    clone_ssh_url = [
      ['git@git.zhlh6.cn', 'ä¸­å›½åŒ—äº¬'],
      ['git@hub.fastgit.org', 'ä¸­å›½é¦™æ¸¯'],
    ],
    raw_url = [
      ['https://raw.githubusercontent.com', 'Github åŸç”Ÿ', ''],
      [
        'https://cdn.jsdelivr.net',
        'ä¸­å›½å›½å†…',
        'æ³¨æ„ï¼šè¯¥åŠ é€Ÿæºå­˜åœ¨ç¼“å­˜æœºåˆ¶ï¼ˆ24å°æ—¶ï¼‰ï¼Œæ‰€ä»¥æ–‡ä»¶å¯èƒ½ä¸æ˜¯æœ€æ–°ã€‚&#10;æ³¨æ„ï¼šå½“å‰åˆ†æ”¯æ‰€æœ‰æ–‡ä»¶æ€»æ–‡ä»¶å¤§å°è¶…è¿‡ 50MB æ—¶ï¼Œè¯¥åŠ é€Ÿæºä¸å¯ç”¨ã€‚&#10;æ³¨æ„ï¼šå½“å‰åˆ†æ”¯åä¸ºç‰ˆæœ¬å·æ ¼å¼æ—¶ï¼ˆå¦‚ v1.2.3ï¼‰ï¼Œè¯¥é«˜é€Ÿä¸‹è½½é“¾æ¥å› æ ¼å¼é™åˆ¶ä¸å¯ç”¨ã€‚',
      ],
      ['https://ghproxy.fsou.cc/https://github.com', 'ä¸­å›½é¦™æ¸¯ 1', ''],
      ['https://pd.zwc365.com/seturl/https://github.com', 'ä¸­å›½é¦™æ¸¯ 2'],
      [
        'https://raw.fastgit.org',
        'æ—¥æœ¬ä¸œäº¬ 1',
        'æ³¨æ„ï¼šå•ä¸ªæ–‡ä»¶å¤ªå¤§æ—¶å¯èƒ½ä¼šæç¤ºè¶…æ—¶ï¼ˆå®æ—¶è·å–ä¸­ï¼‰ï¼Œè¯·é‡è¯•ã€‚',
      ],
      [
        'https://cdn.staticaly.com',
        'æ—¥æœ¬ä¸œäº¬ 2',
        'æ³¨æ„ï¼šè¯¥åŠ é€Ÿæ˜¯å…¨çƒ Anycast CDNï¼Œå›½å†…ä¸€èˆ¬åˆ†é…åˆ°æ—¥æœ¬èŠ‚ç‚¹ã€‚',
      ],
    ],
    svg = [
      '<svg class="octicon octicon-file-zip mr-2" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true"><path fill-rule="evenodd" d="M3.5 1.75a.25.25 0 01.25-.25h3a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h2.086a.25.25 0 01.177.073l2.914 2.914a.25.25 0 01.073.177v8.586a.25.25 0 01-.25.25h-.5a.75.75 0 000 1.5h.5A1.75 1.75 0 0014 13.25V4.664c0-.464-.184-.909-.513-1.237L10.573.513A1.75 1.75 0 009.336 0H3.75A1.75 1.75 0 002 1.75v11.5c0 .649.353 1.214.874 1.515a.75.75 0 10.752-1.298.25.25 0 01-.126-.217V1.75zM8.75 3a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5zM6 5.25a.75.75 0 01.75-.75h.5a.75.75 0 010 1.5h-.5A.75.75 0 016 5.25zm2 1.5A.75.75 0 018.75 6h.5a.75.75 0 010 1.5h-.5A.75.75 0 018 6.75zm-1.25.75a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5zM8 9.75A.75.75 0 018.75 9h.5a.75.75 0 010 1.5h-.5A.75.75 0 018 9.75zm-.75.75a1.75 1.75 0 00-1.75 1.75v3c0 .414.336.75.75.75h2.5a.75.75 0 00.75-.75v-3a1.75 1.75 0 00-1.75-1.75h-.5zM7 12.25a.25.25 0 01.25-.25h.5a.25.25 0 01.25.25v2.25H7v-2.25z"></path></svg>',
      '<svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-paste js-clipboard-clippy-icon d-inline-block"><path fill-rule="evenodd" d="M5.75 1a.75.75 0 00-.75.75v3c0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75v-3a.75.75 0 00-.75-.75h-4.5zm.75 3V2.5h3V4h-3zm-2.874-.467a.75.75 0 00-.752-1.298A1.75 1.75 0 002 3.75v9.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 13.25v-9.5a1.75 1.75 0 00-.874-1.515.75.75 0 10-.752 1.298.25.25 0 01.126.217v9.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-9.5a.25.25 0 01.126-.217z"></path></svg><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-text-success d-inline-block d-sm-none"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>',
      '<svg class="octicon octicon-cloud-download" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M9 12h2l-3 3-3-3h2V7h2v5zm3-8c0-.44-.91-3-4.5-3C5.08 1 3 2.92 3 5 1.02 5 0 6.52 0 8c0 1.53 1 3 3 3h3V9.7H3C1.38 9.7 1.3 8.28 1.3 8c0-.17.05-1.7 1.7-1.7h1.3V5c0-1.39 1.56-2.7 3.2-2.7 2.55 0 3.13 1.55 3.2 1.8v1.2H12c.81 0 2.7.22 2.7 2.2 0 2.09-2.25 2.2-2.7 2.2h-2V11h2c2.08 0 4-1.16 4-3.5C16 5.06 14.08 4 12 4z"></path></svg>',
    ],
    style = [
      'padding:0 6px;margin-right: -1px;border-radius: 2px;background-color: ' +
        backColor +
        ';border-color: rgba(27, 31, 35, 0.1);font-size: 11px;color: ' +
        fontColor +
        ';',
    ];
  var menu_raw_fast = GM_getValue('xiu2_menu_raw_fast'),
    menu_menu_raw_fast_ID,
    menu_feedBack_ID;
  if (menu_raw_fast == null) {
    menu_raw_fast = 1;
    GM_setValue('xiu2_menu_raw_fast', 1);
  }

  registerMenuCommand();
  // æ³¨å†Œè„šæœ¬èœå•
  function registerMenuCommand() {
    if (menu_feedBack_ID) {
      // å¦‚æœåé¦ˆèœå•IDä¸æ˜¯ nullï¼Œåˆ™åˆ é™¤æ‰€æœ‰è„šæœ¬èœå•
      GM_unregisterMenuCommand(menu_menu_raw_fast_ID);
      GM_unregisterMenuCommand(menu_feedBack_ID);
      menu_raw_fast = GM_getValue('xiu2_menu_raw_fast');
    }
    if (menu_raw_fast > raw_url.length - 1) {
      // é¿å…åœ¨å‡å°‘ raw æ•°ç»„åï¼Œç”¨æˆ·å‚¨å­˜çš„æ•°æ®å¤§äºæ•°ç»„è€ŒæŠ¥é”™
      menu_raw_fast = 0;
    }
    menu_menu_raw_fast_ID = GM_registerMenuCommand(
      `${menu_num(menu_raw_fast)} [ ${
        raw_url[menu_raw_fast][1]
      } ] åŠ é€Ÿæº (â˜) - ç‚¹å‡»åˆ‡æ¢`,
      menu_toggle_raw_fast
    );
    menu_feedBack_ID = GM_registerMenuCommand(
      'ğŸ’¬ åé¦ˆ & å»ºè®® [Github]',
      function() {
        window.GM_openInTab('https://github.com/XIU2/UserScript', {
          active: true,
          insert: true,
          setParent: true,
        });
        window.GM_openInTab(
          'https://greasyfork.org/zh-CN/scripts/412245/feedback',
          { active: true, insert: true, setParent: true }
        );
      }
    );
  }

  // åˆ‡æ¢åŠ é€Ÿæº
  function menu_toggle_raw_fast() {
    if (menu_raw_fast >= raw_url.length - 1) {
      // å¦‚æœå½“å‰åŠ é€Ÿæºä½ç½®å¤§äºç­‰äºåŠ é€Ÿæºæ€»æ•°ï¼Œåˆ™æ”¹ä¸ºç¬¬ä¸€ä¸ªåŠ é€Ÿæºï¼Œåä¹‹é€’å¢ä¸‹ä¸€ä¸ªåŠ é€Ÿæº
      menu_raw_fast = 0;
    } else {
      menu_raw_fast += 1;
    }
    GM_setValue('xiu2_menu_raw_fast', menu_raw_fast);
    delRawDownLink(); // åˆ é™¤æ—§åŠ é€Ÿæº
    addRawDownLink(); // æ·»åŠ æ–°åŠ é€Ÿæº
    GM_notification({
      text: 'å·²åˆ‡æ¢åŠ é€Ÿæºä¸ºï¼š' + raw_url[menu_raw_fast][1],
      timeout: 3000,
    }); // æç¤ºæ¶ˆæ¯
    registerMenuCommand(); // é‡æ–°æ³¨å†Œè„šæœ¬èœå•
  }

  // èœå•æ•°å­—å›¾æ ‡
  function menu_num(num) {
    return ['0ï¸âƒ£', '1ï¸âƒ£', '2ï¸âƒ£', '3ï¸âƒ£', '4ï¸âƒ£', '5ï¸âƒ£', '6ï¸âƒ£', '7ï¸âƒ£', '8ï¸âƒ£', '9ï¸âƒ£', 'ğŸ”Ÿ'][
      num
    ];
  }

  addRelease(); //                     Release åŠ é€Ÿ
  setTimeout(addDownloadZIP, 2000); // Download ZIP åŠ é€Ÿ
  setTimeout(addGitClone, 2000); //    Git Clone åŠ é€Ÿ
  setTimeout(addGitCloneSSH, 2000); // Git Clone SSH åŠ é€Ÿ
  addRawFile(); //                     Raw åŠ é€Ÿ
  setTimeout(addRawDownLink, 2000); // æ·»åŠ  Raw ä¸‹è½½é“¾æ¥ï¼ˆâ˜ï¼‰ï¼Œå»¶è¿Ÿ 2 ç§’æ‰§è¡Œï¼Œé¿å…è¢« pjax åˆ·æ‰

  document.addEventListener('pjax:success', function() {
    // pjax äº‹ä»¶å‘ç”Ÿå
    addRelease(); //                     Release åŠ é€Ÿ
    setTimeout(addDownloadZIP, 2000); // Download ZIP åŠ é€Ÿ
    setTimeout(addGitClone, 2000); //    Git Clone åŠ é€Ÿ
    setTimeout(addGitCloneSSH, 2000); // Git Clone SSH åŠ é€Ÿ
    addRawFile(); //                     Raw åŠ é€Ÿ
    setTimeout(addRawDownLink, 2000); // æ·»åŠ  Raw ä¸‹è½½é“¾æ¥ï¼ˆâ˜ï¼‰ï¼Œå»¶è¿Ÿ 2 ç§’æ‰§è¡Œï¼Œé¿å…è¢« pjax åˆ·æ‰
  });

  addLocationchange();
  window.addEventListener('locationchange', function() {
    addRawDownLink_(); // åœ¨æµè§ˆå™¨è¿”å›/å‰è¿›æ—¶é‡æ–°æ·»åŠ  Raw ä¸‹è½½é“¾æ¥ï¼ˆâ˜ï¼‰äº‹ä»¶
  });

  // Release
  function addRelease() {
    let html = document.getElementsByClassName('Box-footer');
    if (html.length == 0) return;
    let divDisplay = '';
    if (document.documentElement.clientWidth > 1000) {
      divDisplay = 'float: right;margin-top: -3px;margin-left: 8px;';
    } // è°ƒæ•´å°å±å¹•æ—¶çš„æ ·å¼
    Array.from(html).forEach(function(current) {
      current.querySelectorAll('li.Box-row > a').forEach(function(_this) {
        let href = _this.href.split(location.host),
          url = [],
          _html = `<div style="${divDisplay}">`;
        // å¾ªç¯ç»„åˆ URL é“¾æ¥
        for (let i = 0; i < download_url.length; i++) {
          url[i] = download_url[i][0] + href[1];
          if (location.host === 'hub.fastgit.org')
            url[i] = url[i].replace('hub.fastgit.org', 'github.com');
          if (
            download_url[i][0] === 'https://download.fastgit.org' &&
            url[i].indexOf('/archive/') > -1
          )
            url[i] = url[i].replace(
              'https://download.fastgit.org',
              'https://archive.fastgit.org'
            );
        }
        // å¾ªç¯ç”Ÿæˆ HTML æ ‡ç­¾
        for (let i = 0; i < url.length; i++) {
          _html += `<a style="${style[0]}" class="btn" href="${url[i]}" rel="noreferrer noopener nofollow">${download_url[i][1]}</a>`;
        }
        _html += `</div>`;
        _this.insertAdjacentHTML('afterend', _html);
      });
    });
  }

  // Download ZIP
  function addDownloadZIP() {
    if (document.querySelector('.XIU2-DZ')) return;
    let html = document.querySelector(
      '.dropdown-menu.dropdown-menu-sw.p-0 ul li:last-child'
    );
    if (!html) return;
    let href = html.getElementsByTagName('a')[0].href,
      url = [],
      _html = ``;

    for (let i = 0; i < download_url.length; i++) {
      url[i] = download_url[i][0] + href.split(location.host)[1];
      if (location.host === 'hub.fastgit.org')
        url[i] = url[i].replace('hub.fastgit.org', 'github.com');
      if (
        download_url[i][0] === 'https://download.fastgit.org' &&
        url[i].indexOf('/archive/') > -1
      )
        url[i] = url[i].replace(
          'https://download.fastgit.org',
          'https://archive.fastgit.org'
        );
    }

    for (let i = 0; i < url.length; i++) {
      _html += `<li class="Box-row Box-row--hover-gray p-3 mt-0 XIU2-DZ"><a class="d-flex flex-items-center color-text-primary text-bold no-underline" rel="noreferrer nofollow" href="${url[i]}">${svg[0]}Download ZIP ${download_url[i][1]}</a></li>`;
    }
    html.insertAdjacentHTML('afterend', _html);
  }

  // Git Clone
  function addGitClone() {
    if (document.querySelector('.XIU2-GC')) return;
    let html = document.querySelector(
      '[role="tabpanel"]:nth-child(2) div.input-group'
    );
    if (!html) return;
    let href_split = html
        .getElementsByTagName('input')[0]
        .getAttribute('value')
        .split(location.host),
      url = [],
      _html = ``;

    for (let i = 0; i < clone_url.length; i++) {
      if (clone_url[i][0] === 'https://gitclone.com') {
        url[i] = clone_url[i][0] + '/github.com' + href_split[1];
      } else {
        url[i] = clone_url[i][0] + href_split[1];
      }
    }

    for (let i = 0; i < url.length; i++) {
      _html += `<div class="input-group XIU2-GC" style="margin-top: 4px;" title="åŠ é€Ÿæºï¼š${clone_url[i][1]} ï¼ˆç‚¹å‡»å¯ç›´æ¥å¤åˆ¶ï¼‰"><input value="${url[i]}" aria-label="${url[i]}" type="text" class="form-control input-monospace input-sm color-bg-secondary" data-autoselect="" readonly=""><div class="input-group-button"><clipboard-copy value="${url[i]}" aria-label="Copy to clipboard" class="btn btn-sm js-clipboard-copy tooltipped-no-delay ClipboardButton" tabindex="0" role="button">${svg[1]}</clipboard-copy></div></div>`;
    }
    html.insertAdjacentHTML('afterend', _html);
  }

  // Git Clone SSH
  function addGitCloneSSH() {
    if (document.querySelector('.XIU2-GCS')) return;
    let html = document.querySelector(
      '[role="tabpanel"]:nth-child(3) div.input-group'
    );
    if (!html) return;
    let href_split = html
        .getElementsByTagName('input')[0]
        .getAttribute('value')
        .split(':'),
      url = [],
      _html = ``;

    if (href_split[0] != 'git@github.com') return;

    for (let i = 0; i < clone_ssh_url.length; i++) {
      url[i] = clone_ssh_url[i][0] + ':' + href_split[1];
    }

    for (let i = 0; i < url.length; i++) {
      _html += `<div class="input-group XIU2-GCS" style="margin-top: 4px;" title="åŠ é€Ÿæºï¼š${clone_ssh_url[i][1]} ï¼ˆç‚¹å‡»å¯ç›´æ¥å¤åˆ¶ï¼‰"><input value="${url[i]}" aria-label="${url[i]}" type="text" class="form-control input-monospace input-sm color-bg-secondary" data-autoselect="" readonly=""><div class="input-group-button"><clipboard-copy value="${url[i]}" aria-label="Copy to clipboard" class="btn btn-sm js-clipboard-copy tooltipped-no-delay ClipboardButton" tabindex="0" role="button">${svg[1]}</clipboard-copy></div></div>`;
    }
    html.insertAdjacentHTML('afterend', _html);
  }

  // Raw
  function addRawFile() {
    if (document.querySelector('.XIU2-RF')) return;
    let html = document.getElementById('raw-url');
    if (!html) return;
    let href = location.href.replace(`https://${location.host}`, ''),
      href2 = href.replace('/blob/', '/'),
      href3 = document.getElementById('raw-url').getAttribute('href'),
      url = [
        raw_url[1][0] + '/gh' + href.replace('/blob/', '@'),
        raw_url[2][0] + href,
        raw_url[3][0] + href3,
        raw_url[4][0] + href2,
        raw_url[5][0] + '/gh' + href.replace('/blob/', '/'),
      ],
      _html = ``;
    for (let i = 0; i < url.length; i++) {
      _html += `<a href="${url[i]}" title="${
        raw_url[i + 1][2]
      }" target="_blank" role="button" rel="noreferrer noopener nofollow" class="btn btn-sm BtnGroup-item XIU2-RF">${
        raw_url[i + 1][1]
      }</a>`;
    }
    html.insertAdjacentHTML('afterend', _html);
  }

  // æ·»åŠ  Raw ä¸‹è½½é“¾æ¥ï¼ˆâ˜ï¼‰
  function addRawDownLink() {
    // å¦‚æœä¸æ˜¯é¡¹ç›®æ–‡ä»¶é¡µé¢ï¼Œå°±è¿”å›ï¼Œå¦‚æœç½‘é¡µæœ‰ Raw ä¸‹è½½é“¾æ¥ï¼ˆâ˜ï¼‰å°±è¿”å›
    let files = document.querySelectorAll(
      'div.Box-row svg.octicon.octicon-file'
    );
    if (files.length === 0) return;
    if (location.pathname.indexOf('/tags') > -1) return;
    let files1 = document.querySelectorAll('a.fileDownLink');
    if (files1.length > 0) return;

    // é¼ æ ‡æŒ‡å‘åˆ™æ˜¾ç¤º
    var mouseOverHandler = function(evt) {
      let elem = evt.currentTarget,
        aElm_new = elem.querySelectorAll('.fileDownLink'),
        aElm_now = elem.querySelectorAll('svg.octicon.octicon-file');
      aElm_new.forEach((el) => {
        el.style.cssText = 'display: inline';
      });
      aElm_now.forEach((el) => {
        el.style.cssText = 'display: none';
      });
    };

    // é¼ æ ‡ç¦»å¼€åˆ™éšè—
    var mouseOutHandler = function(evt) {
      let elem = evt.currentTarget,
        aElm_new = elem.querySelectorAll('.fileDownLink'),
        aElm_now = elem.querySelectorAll('svg.octicon.octicon-file');
      aElm_new.forEach((el) => {
        el.style.cssText = 'display: none';
      });
      aElm_now.forEach((el) => {
        el.style.cssText = 'display: inline';
      });
    };

    // å¾ªç¯æ·»åŠ 
    files.forEach(function(fileElm, i) {
      let trElm = fileElm.parentNode.parentNode,
        cntElm_a = trElm.querySelector(
          '.css-truncate.css-truncate-target.d-block.width-fit a'
        ),
        cntElm_svg = trElm.querySelector(
          '.mr-3.flex-shrink-0 svg.octicon.octicon-file'
        ),
        Name = cntElm_a.innerText,
        href = cntElm_a.attributes.href.nodeValue.replace(
          `https://${location.host}`,
          ''
        );
      let href2 = href.replace('/blob/', '/'),
        href3 = document.getElementById('raw-url').getAttribute('href'),
        url,
        url_name,
        url_tip = '';
      switch (menu_raw_fast) {
        case 0:
        case 4:
          url = raw_url[menu_raw_fast][0] + href2;
          break;
        case 2:
          url = raw_url[menu_raw_fast][0] + href;
          break;
        case 3:
          url = raw_url[menu_raw_fast][0] + href3;
          break;
        case 1:
          url = raw_url[menu_raw_fast][0] + '/gh' + href.replace('/blob/', '@');
          break;
        case 5:
          url = raw_url[menu_raw_fast][0] + '/gh' + href.replace('/blob/', '/');
          break;
        default:
          url = raw_url[menu_raw_fast][0] + '/' + raw_url[0][0] + href2;
      }
      url_name = raw_url[menu_raw_fast][1];
      url_tip = raw_url[menu_raw_fast][2];
      let _html = ` <a href="${url}" download="${Name}" target="_blank" rel="noreferrer noopener nofollow" class="fileDownLink" style="display: none;" title="ã€Œ${url_name}ã€&#10;&#10;[Alt + å·¦é”®] æˆ– [å³é”® - å¦å­˜ä¸º...] ä¸‹è½½æ–‡ä»¶ã€‚&#10;æ³¨æ„ï¼šé¼ æ ‡ç‚¹å‡» [â˜] å›¾æ ‡ï¼Œè€Œä¸æ˜¯å·¦ä¾§çš„æ–‡ä»¶åï¼&#10;&#10;${url_tip}æç¤ºï¼šç‚¹å‡»æµè§ˆå™¨å³ä¸Šè§’ Tampermonkey æ‰©å±•å›¾æ ‡ - [ ${raw_url[menu_raw_fast][1]} ] åŠ é€Ÿæº (â˜) å³å¯åˆ‡æ¢ã€‚">${svg[2]}</a>`;
      cntElm_svg.insertAdjacentHTML('afterend', _html);
      // ç»‘å®šé¼ æ ‡äº‹ä»¶
      trElm.onmouseover = mouseOverHandler;
      trElm.onmouseout = mouseOutHandler;
    });
  }

  // åˆ é™¤ Raw å¿«æ·ä¸‹è½½ï¼ˆâ˜ï¼‰
  function delRawDownLink() {
    let aElm = document.querySelectorAll('.fileDownLink');
    if (aElm.length === 0) return;
    aElm.forEach(function(fileElm) {
      fileElm.remove();
    });
  }

  // åœ¨æµè§ˆå™¨è¿”å›/å‰è¿›æ—¶é‡æ–°æ·»åŠ  Raw ä¸‹è½½é“¾æ¥ï¼ˆâ˜ï¼‰é¼ æ ‡äº‹ä»¶
  function addRawDownLink_() {
    // å¦‚æœä¸æ˜¯é¡¹ç›®æ–‡ä»¶é¡µé¢ï¼Œå°±è¿”å›ï¼Œå¦‚æœç½‘é¡µæ²¡æœ‰ Raw ä¸‹è½½é“¾æ¥ï¼ˆâ˜ï¼‰å°±è¿”å›
    let files = document.querySelectorAll(
      'div.Box-row svg.octicon.octicon-file'
    );
    if (files.length === 0) return;
    let files1 = document.querySelectorAll('a.fileDownLink');
    if (files1.length === 0) return;

    // é¼ æ ‡æŒ‡å‘åˆ™æ˜¾ç¤º
    var mouseOverHandler = function(evt) {
      let elem = evt.currentTarget,
        aElm_new = elem.querySelectorAll('.fileDownLink'),
        aElm_now = elem.querySelectorAll('svg.octicon.octicon-file');
      aElm_new.forEach((el) => {
        el.style.cssText = 'display: inline';
      });
      aElm_now.forEach((el) => {
        el.style.cssText = 'display: none';
      });
    };

    // é¼ æ ‡ç¦»å¼€åˆ™éšè—
    var mouseOutHandler = function(evt) {
      let elem = evt.currentTarget,
        aElm_new = elem.querySelectorAll('.fileDownLink'),
        aElm_now = elem.querySelectorAll('svg.octicon.octicon-file');
      aElm_new.forEach((el) => {
        el.style.cssText = 'display: none';
      });
      aElm_now.forEach((el) => {
        el.style.cssText = 'display: inline';
      });
    };

    // å¾ªç¯æ·»åŠ 
    files.forEach(function(fileElm, i) {
      let trElm = fileElm.parentNode.parentNode;
      // ç»‘å®šé¼ æ ‡äº‹ä»¶
      trElm.onmouseover = mouseOverHandler;
      trElm.onmouseout = mouseOutHandler;
    });
  }

  // è‡ªå®šä¹‰ locationchange äº‹ä»¶ï¼ˆç”¨æ¥ç›‘å¬ URL å˜åŒ–ï¼‰
  function addLocationchange() {
    history.pushState = ((f) =>
      function pushState() {
        var ret = f.apply(this, arguments);
        window.dispatchEvent(new Event('pushstate'));
        window.dispatchEvent(new Event('locationchange'));
        return ret;
      })(history.pushState);

    history.replaceState = ((f) =>
      function replaceState() {
        var ret = f.apply(this, arguments);
        window.dispatchEvent(new Event('replacestate'));
        window.dispatchEvent(new Event('locationchange'));
        return ret;
      })(history.replaceState);

    window.addEventListener('popstate', () => {
      window.dispatchEvent(new Event('locationchange'));
    });
  }
})();
```

:::
