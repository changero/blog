(window.webpackJsonp=window.webpackJsonp||[]).push([[206],{562:function(s,a,e){"use strict";e.r(a);var t=e(14),n=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("p",[s._v("在此之前，与服务器完成文件传输的主要工具是"),a("code",[s._v("ssh")]),s._v("、"),a("code",[s._v("FTP")]),s._v("等手段。后来了解到"),a("a",{attrs:{href:"https://bashupload.com/",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("bashupload")]),a("OutboundLink")],1),s._v("，上传文件后可以得到 7 天的免费存储时间。不过文件总归是存在在别人的服务器上。后来终于等来了 croc")]),s._v(" "),a("h2",{attrs:{id:"bashupload"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bashupload"}},[s._v("#")]),s._v(" bashupload")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" https://bashupload.com/name.txt --data-binary @file.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),s._v(" "),a("h2",{attrs:{id:"croc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#croc"}},[s._v("#")]),s._v(" Croc")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/schollz/croc",target:"_blank",rel:"noopener noreferrer"}},[s._v("github"),a("OutboundLink")],1),s._v("地址")]),s._v(" "),a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("p",[s._v("直接通过命令行安装最新版本")]),s._v(" "),a("blockquote",[a("p",[s._v("curl https://getcroc.schollz.com | bash")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("MacOS")]),s._v(" "),a("blockquote",[a("p",[s._v("brew install croc")])])]),s._v(" "),a("li",[a("p",[s._v("windows > scoop install croc")]),s._v(" "),a("blockquote",[a("p",[s._v("choco install croc")])])]),s._v(" "),a("li",[a("p",[s._v("ubuntu > snap install croc")])])]),s._v(" "),a("h3",{attrs:{id:"使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[s._v("#")]),s._v(" 使用")]),s._v(" "),a("ul",[a("li",[s._v("发送文件")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("croc send "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("-or-folder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nSending "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'file-or-folder'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("X MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nCode is: code-phrase\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("接收文件")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("croc code-phrase\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("自定义 code")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("croc send --code myfile "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("-or-folder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nSending "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'file-or-folder'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("X MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nCode is: myfile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("管道")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" croc send\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("直接发送文本")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("croc send --text "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("自主中继")])]),s._v(" "),a("p",[s._v("我觉得是最主要的功能，默认情况下，croc 使用公共中继，也可以开启自己的中继")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("croc relay\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("会占用"),a("code",[s._v("9009-9013")]),s._v("端口")]),s._v(" "),a("blockquote",[a("p",[s._v("您可以自定义端口（例如 croc relay --ports 1111,1112），但是中继必须至少有 2 个端口。第一个端口用于通信，随后的端口用于多路复用数据传输")])]),s._v(" "),a("p",[s._v("使用中继发送文件")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("croc --relay "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'youhost.com:9009'")]),s._v(" send "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("使用 docker")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker run -d -p 9009-9013:9009-9013 -e CROC_PASS='YOURPASSWORD' schollz/croc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在接收文件的时候确保密码正确")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("croc --pass YOURPASSWORD --relay 'youhost.com:9009' [code]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("注意 如果需要在 docker 的宿主机上发送文件，需要修改 docker 容器占用的端口，否则在宿主机上发送文件的时候会提示端口被占用，例如：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker run -d -p 9109-9113:9009-9013 -e CROC_PASS='YOURPASSWORD' schollz/croc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"ffsend"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ffsend"}},[s._v("#")]),s._v(" ffsend")]),s._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://github.com/timvisee/ffsend",target:"_blank",rel:"noopener noreferrer"}},[s._v("ffsend"),a("OutboundLink")],1),s._v("是"),a("a",{attrs:{href:"https://github.com/timvisee/send",target:"_blank",rel:"noopener noreferrer"}},[s._v("send 项目"),a("OutboundLink")],1),s._v("的命令行版本，项目起源于"),a("code",[s._v("Mozilla")]),s._v("的一个分支")])]),s._v(" "),a("h3",{attrs:{id:"使用-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-2"}},[s._v("#")]),s._v(" 使用")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("上传")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ffsend upload "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".txt --copy\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Advanced upload")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# - Specify a download limit of 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# - Specify upload expiry time of 5 minutes")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# - Enter a password to encrypt the file")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# - Archive the file before uploading")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# - Copy the shareable link to your clipboard")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# - Open the shareable link in your browser")]),s._v("\n$ ffsend upload --downloads "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" --expiry-time 5m --password --archive --copy --open my-file.txt\nPassword: ******\nhttps://send.vis.ee/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#sample-share-url")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Upload to your own host")]),s._v("\n$ ffsend u -h https://example.com/ my-file.txt\nhttps://example.com/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#sample-share-url")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("上传结果会返回一个文件地址，默认的服务器实例是"),a("code",[s._v("https://send.vis.ee")]),s._v("，该实例拥有网页版，还有其他"),a("a",{attrs:{href:"https://github.com/timvisee/send-instances",target:"_blank",rel:"noopener noreferrer"}},[s._v("实例"),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("下载")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ffsend download "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("link"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("检查文件是否存在")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ffsend exists "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("link"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("查询远程文件的信息")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ffsend info "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("link"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("修改上传文件的密码")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ffsend password "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("link"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("删除文件")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ffsend delete "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("link"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"如何搭建自己的实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何搭建自己的实例"}},[s._v("#")]),s._v(" 如何搭建自己的实例")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/timvisee/send/blob/master/docs/docker.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker 方式搭建"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=n.exports}}]);