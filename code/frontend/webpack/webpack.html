<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>webpack | 编程小兵</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="路漫漫其修远兮，吾将上下而求索">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/css/0.styles.f1c3a865.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/app.03a08a11.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/3.2b593545.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/25.c4c34c07.js" as="script"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/10.3c93f85b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/100.7f414aae.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/101.2348dd18.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/102.8af3f469.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/103.8bb649de.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/104.d64fb347.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/105.ce0c9777.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/106.11da9663.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/107.6acbdc97.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/108.522fe21c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/109.a5bba632.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/11.ebed3f6f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/110.8f156d97.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/111.86c67076.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/112.5f49a31b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/113.b26c7462.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/114.696b6195.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/115.2af18a7e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/116.e95ec34b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/117.1dc05831.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/118.5dbd64d6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/119.49418e53.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/12.cd6b919a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/120.4fcffafe.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/121.e9e032e8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/122.60e037d9.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/123.31fd7f53.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/124.254abdee.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/125.3cbe3455.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/126.60d98d65.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/127.cd76235a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/128.5cd53b9c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/129.74c81192.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/13.d3406d66.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/130.9b74fda3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/131.1fab962e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/132.bb81e1a5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/133.94586e72.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/134.4ef040b8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/135.d2982bab.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/136.2ba31a05.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/137.299dac49.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/138.30c41acb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/139.eeb4e298.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/14.b7b3520d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/140.0f0f8a8d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/141.67b75bcc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/142.e95b1380.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/143.81e92e93.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/144.96d2cd63.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/145.55a54f9b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/146.1e0e4953.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/147.2db0addc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/148.dc37b068.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/149.b5354a4c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/15.adead415.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/150.5dcd2ab8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/151.8357eebe.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/152.667a6f6a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/153.bc994aab.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/154.86570747.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/155.a2a0d4fd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/156.61782a3b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/157.f59cfc6d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/158.0f57c646.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/159.8d0a1739.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/16.3544c358.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/160.48cbf202.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/161.eb7e545f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/162.e4ea72d1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/163.e46cc598.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/164.59d1735d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/165.6c85b5c7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/166.5c1d7f30.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/167.bb9c87a5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/168.63c70fd6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/169.c082d58b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/17.d70afb94.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/170.691c62bb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/171.e461bfff.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/172.cd727d86.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/173.6d2f51bf.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/174.e9a00beb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/175.2023cb01.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/176.def07199.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/177.29f50ff6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/178.3dfef38b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/179.4a00d540.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/18.d6e9fd63.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/180.1bc4c639.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/181.ee4d4b4a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/182.e327e124.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/183.94d61f56.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/184.641beef6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/185.e89df33e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/186.33ca1636.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/187.27e9b734.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/188.a9718893.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/189.21aa469c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/19.9eb46e36.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/190.1102ac4e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/191.117892d3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/192.5ee14712.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/193.e886b9a7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/194.bbcbf647.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/195.35930876.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/196.6b417531.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/197.eb7df7db.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/198.b95c627a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/199.a0fad090.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/2.948e236e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/20.06ec23d0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/200.b9a3c912.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/201.ea81c5d7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/202.bedf7c48.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/203.43c72de0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/204.9c02e833.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/205.850f2d2d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/206.40e6135c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/207.bfe34217.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/208.a35aa765.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/209.f701b600.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/21.c7310922.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/210.f061322f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/211.e834fce2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/22.a1625bb5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/23.6267640b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/24.1696d1e8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/26.54468745.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/27.22f30c94.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/28.fd7f6d68.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/29.376af419.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/30.259ca070.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/31.1f391c2e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/32.0e2aef91.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/33.bdd940e3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/34.5e9ebf1a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/35.5f690222.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/36.6d527b07.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/37.92a94efa.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/38.ccb8d5c4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/39.6e88d2db.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/4.9fca145c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/40.b4f4bc7a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/41.024ab758.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/42.8aa4f572.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/43.2f721fd6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/44.fc4763d0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/45.ce43007f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/46.cc56f930.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/47.7cff0305.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/48.4a64fde0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/49.92b28a8d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/5.afe584f1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/50.bb382a13.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/51.1796af05.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/52.3a52b0c8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/53.e4527fb1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/54.23cd3cbd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/55.0160435a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/56.0af7bbe2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/57.b81f2a64.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/58.1a8c6276.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/59.11c44d96.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/6.9c204179.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/60.e78e9edc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/61.9d75209e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/62.d9f26614.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/63.df8b3b78.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/64.9b2f3798.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/65.0422633e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/66.e9465fb5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/67.ef504779.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/68.0d2a9987.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/69.a18bc029.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/7.23f16619.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/70.7b55a276.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/71.37d3a981.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/72.a4bf3fe5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/73.9eec09bc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/74.a3152b49.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/75.cc45d0ab.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/76.baaef140.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/77.ccb60a9a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/78.9890fb43.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/79.6355e3b0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/8.08d1e0f6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/80.163254c4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/81.8f67b062.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/82.e187c6c5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/83.567090ad.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/84.05f67456.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/85.a8363035.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/86.ad1f37ee.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/87.1b5b8331.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/88.a55c2a56.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/89.f76e674f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/9.013d5b21.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/90.379e76c0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/91.67d52c2a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/92.d61adf71.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/93.f04d9e7f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/94.9c76f5da.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/95.9b8ace03.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/96.64e73c2e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/97.ee2b3ef1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/98.e106b68f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/99.9f8cc9f5.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/css/0.styles.f1c3a865.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/hero.png" alt="编程小兵" class="logo"> <span class="site-name can-hide">编程小兵</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/share/" class="nav-link">
  分享
</a></div><div class="nav-item"><a href="/read/" class="nav-link">
  记录
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程" class="dropdown-title"><span class="title">编程</span> <span class="arrow down"></span></button> <button type="button" aria-label="编程" class="mobile-dropdown-title"><span class="title">编程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/code/basic/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/code/frontend/" class="nav-link router-link-active">
  frontend
</a></li><li class="dropdown-item"><!----> <a href="/code/node/" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/code/tools/" class="nav-link">
  tools
</a></li><li class="dropdown-item"><!----> <a href="/code/rxjs/" class="nav-link">
  rxjs
</a></li><li class="dropdown-item"><!----> <a href="/code/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/code/docker/" class="nav-link">
  docker
</a></li><li class="dropdown-item"><!----> <a href="/code/electron/" class="nav-link">
  electron
</a></li><li class="dropdown-item"><!----> <a href="/code/python/" class="nav-link">
  python
</a></li><li class="dropdown-item"><!----> <a href="/code/android/" class="nav-link">
  android
</a></li><li class="dropdown-item"><!----> <a href="/code/flutter/" class="nav-link">
  flutter
</a></li><li class="dropdown-item"><!----> <a href="/code/other/" class="nav-link">
  其他
</a></li><li class="dropdown-item"><!----> <a href="/code/db/" class="nav-link">
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/code/network/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/code/linux/linux学习笔记.html" class="nav-link">
  linux
</a></li></ul></div></div><div class="nav-item"><a href="/navs/" class="nav-link">
  资源导航
</a></div><div class="nav-item"><a href="mailto://changero@126.com" class="nav-link external">
  联系我
  <!----></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/share/" class="nav-link">
  分享
</a></div><div class="nav-item"><a href="/read/" class="nav-link">
  记录
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程" class="dropdown-title"><span class="title">编程</span> <span class="arrow down"></span></button> <button type="button" aria-label="编程" class="mobile-dropdown-title"><span class="title">编程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/code/basic/" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/code/frontend/" class="nav-link router-link-active">
  frontend
</a></li><li class="dropdown-item"><!----> <a href="/code/node/" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/code/tools/" class="nav-link">
  tools
</a></li><li class="dropdown-item"><!----> <a href="/code/rxjs/" class="nav-link">
  rxjs
</a></li><li class="dropdown-item"><!----> <a href="/code/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/code/docker/" class="nav-link">
  docker
</a></li><li class="dropdown-item"><!----> <a href="/code/electron/" class="nav-link">
  electron
</a></li><li class="dropdown-item"><!----> <a href="/code/python/" class="nav-link">
  python
</a></li><li class="dropdown-item"><!----> <a href="/code/android/" class="nav-link">
  android
</a></li><li class="dropdown-item"><!----> <a href="/code/flutter/" class="nav-link">
  flutter
</a></li><li class="dropdown-item"><!----> <a href="/code/other/" class="nav-link">
  其他
</a></li><li class="dropdown-item"><!----> <a href="/code/db/" class="nav-link">
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/code/network/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/code/linux/linux学习笔记.html" class="nav-link">
  linux
</a></li></ul></div></div><div class="nav-item"><a href="/navs/" class="nav-link">
  资源导航
</a></div><div class="nav-item"><a href="mailto://changero@126.com" class="nav-link external">
  联系我
  <!----></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>js系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>webpack系列</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/frontend/webpack/webpack.html" aria-current="page" class="active sidebar-link">webpack</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/frontend/webpack/webpack.html#资源" class="sidebar-link">资源</a></li><li class="sidebar-sub-header"><a href="/code/frontend/webpack/webpack.html#工具链" class="sidebar-link">工具链</a></li><li class="sidebar-sub-header"><a href="/code/frontend/webpack/webpack.html#概念" class="sidebar-link">概念</a></li><li class="sidebar-sub-header"><a href="/code/frontend/webpack/webpack.html#核心概念" class="sidebar-link">核心概念</a></li><li class="sidebar-sub-header"><a href="/code/frontend/webpack/webpack.html#功能-优化" class="sidebar-link">功能/优化</a></li><li class="sidebar-sub-header"><a href="/code/frontend/webpack/webpack.html#原理" class="sidebar-link">原理</a></li></ul></li><li><a href="/code/frontend/webpack/如何编写一个webpack的loader.html" class="sidebar-link">如何编写一个webpack的loader</a></li><li><a href="/code/frontend/webpack/webpack的publicPath.html" class="sidebar-link">关于publicPath</a></li><li><a href="/code/frontend/webpack/HMR.html" class="sidebar-link">HMR</a></li><li><a href="/code/frontend/webpack/webpack之Dll技术.html" class="sidebar-link">webpack之Dll技术</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>typescript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>react</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>react-native</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>web.dev</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2分钱学前端图形学</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><blockquote><p>初步整理的 webpack 知识图谱</p></blockquote> <p><img src="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/img/webpack.732317d8.png" alt=""></p> <h1 id="webpack"><a href="#webpack" class="header-anchor">#</a> webpack</h1> <ul><li><p>功能</p> <ul><li>通过持久缓存提高构建性能</li> <li>使用更好的算法和默认值来改善长期缓存</li> <li>通过更好的 tree shaking 和代码生成来改善 bundle 的大小</li> <li>清除处于怪异状态的内部结构，同时在 v4 中实现功能而不引入任何重大更改</li> <li>通过引入重大更改来为将来的功能做准备，以使我们能更长时间的使用 v5</li></ul></li></ul> <h2 id="资源"><a href="#资源" class="header-anchor">#</a> 资源</h2> <ul><li><p><a href="https://www.bilibili.com/video/BV1e7411j7T5" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1e7411j7T5<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://webpack.wuhaolin.cn/" target="_blank" rel="noopener noreferrer">https://webpack.wuhaolin.cn/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h2 id="工具链"><a href="#工具链" class="header-anchor">#</a> 工具链</h2> <h3 id="webpack-cli"><a href="#webpack-cli" class="header-anchor">#</a> webpack-cli</h3> <h3 id="webpack-dev-server"><a href="#webpack-dev-server" class="header-anchor">#</a> webpack-dev-server</h3> <h3 id="webpack-merge"><a href="#webpack-merge" class="header-anchor">#</a> webpack-merge</h3> <h3 id="chain-webpack"><a href="#chain-webpack" class="header-anchor">#</a> chain-webpack</h3> <h3 id="webpack-bundle-analyzer"><a href="#webpack-bundle-analyzer" class="header-anchor">#</a> webpack-bundle-analyzer</h3> <h2 id="概念"><a href="#概念" class="header-anchor">#</a> 概念</h2> <h3 id="插件"><a href="#插件" class="header-anchor">#</a> 插件</h3> <ul><li><p>生命周期</p></li> <li><p>如何实现</p> <ul><li><p>tapable</p> <ul><li><p>SyncHook</p></li> <li><p>SyncBailHook</p> <ul><li>前面的钩子有返回值将中断执行</li></ul></li> <li><p>AsyncParallelHook</p> <ul><li>异步并行</li></ul></li> <li><p>AsyncSeriesHook</p> <ul><li>异步串行</li></ul></li></ul></li> <li><p>plugin 都是一个 class 实现</p> <ul><li><p>实现 apply 方法</p> <ul><li><p>complier</p></li> <li><p>compilation</p> <ul><li><p>在 additionalAssets 阶段</p> <ul><li>compilation.assets 添加文件</li> <li>compialtion.emitAsset</li></ul></li></ul></li> <li><p>每一个 hook 都是 tabable 对象，可以 tap 和 call</p></li></ul></li></ul></li> <li><p>RawSource</p> <ul><li>webpack.sources</li></ul></li></ul></li> <li><p>常用插件</p> <ul><li><p>html-webpack-plugin</p></li> <li><p>web-webpack-plugin</p> <ul><li>方便的为单页应用输出 HTML，比 html-webpack-plugin 好用</li></ul></li> <li><p>extract-text-webpack-plugin</p> <ul><li>提取 CSS 到单独的文件</li></ul></li> <li><p>webpack.definePlugin</p></li> <li><p>clean-webpack-plugin</p> <ul><li>每次重新构建的时候会自动清空掉上一次构建的产物</li></ul></li> <li><p>copy-webpack-plugin</p></li> <li><p>optimize-css-assets-webpack-plugin</p> <ul><li>压缩 css</li></ul></li> <li><p>i18n-webpack-plugin</p> <ul><li>给你的网页支持国际化</li></ul></li> <li><p>imagemin-webpack-plugin</p> <ul><li>图片压缩</li></ul></li> <li><p>prepack-webpack-plugin</p> <ul><li>通过 Facebook 的 Prepack 优化输出的 JavaScript 代码性能</li></ul></li> <li><p>dll-plugin</p> <ul><li>借鉴 DDL 的思想大幅度提升构建速度。</li></ul></li> <li><p>webpack-parallel-uglify-plugin</p> <ul><li>多进程执行 UglifyJS 代码压缩，提升构建速度。</li></ul></li> <li><p>add-assets-html-webpack-plugin</p> <ul><li>自动在 html 引入打包的文件</li></ul></li></ul></li></ul> <h3 id="loader"><a href="#loader" class="header-anchor">#</a> loader</h3> <ul><li><p>如何实现</p> <ul><li><p>loader 本质是一个函数</p> <ul><li>function(content, map, meta)</li> <li>this.callback</li> <li>return convertContent</li></ul></li> <li><p>loader.pitch</p></li> <li><p>异步 loader</p> <ul><li>const callback = this.asyc()</li></ul></li> <li><p>获取 options</p> <ul><li>const { getOptions } = require('loader-utils')</li> <li>const options = getOptions(this)</li></ul></li> <li><p>校验 options</p> <ul><li><p>创建 schem.json 文件</p> <ul><li>子主题 1</li></ul></li> <li><p>引入 schema-utils</p></li> <li><p>validate(schema, options, config)</p></li></ul></li></ul></li> <li><p>作用</p> <ul><li>常见的 loader 做了什么</li></ul></li> <li><p>常用 loader</p> <ul><li><p>css</p> <ul><li><p>style-loader</p> <ul><li>拿到 css-loader 处理过的模块内容，添加到 style 标签中</li></ul></li> <li><p>css-loader</p> <ul><li>提取 CSS 文件内容导出一个 Commonjs 规范的模块</li></ul></li> <li><p>less-loader</p></li> <li><p>scss-loader</p></li> <li><p>stylus-loader</p></li> <li><p>postcss-loader</p> <ul><li><p>plugins</p> <ul><li><p>postcss-preset-env</p> <ul><li><p>帮助 postcss 找到 browserslist</p> <ul><li>package.json 中的 browserslist</li> <li>.browserslistrc</li></ul></li></ul></li> <li><p>autoprefixer</p></li></ul></li> <li><p>postcss.config.js</p></li></ul></li> <li><p>extract-text-webpack-plugin</p> <ul><li>提取 CSS 到单独文件</li></ul></li> <li><p>mini-css-extract-plugin</p> <ul><li>loader 属性取代 style-loader</li></ul></li></ul></li> <li><p>html</p> <ul><li><p>html-loader</p> <ul><li>处理 html 文件中的图片资源，传递给 url-loader 处理</li> <li>使用 Commonjs 模块解析，需要关闭 url-loader 的 esModule</li></ul></li></ul></li> <li><p>js</p> <ul><li><p>语法检查</p> <ul><li><p>esint-loader</p> <ul><li><p>airbnb</p> <ul><li><p>eslint-config-airbnb-base</p> <ul><li>extends airbnb-base</li></ul></li></ul></li></ul></li></ul></li> <li><p>兼容性处理</p> <ul><li><p>babel-loader</p> <ul><li>@babel/core</li> <li>@babel/preset-env</li> <li>@babel/preset-react</li></ul></li> <li><p>语法兼容</p></li> <li><p>API 兼容</p> <ul><li>@babel/polyfill</li></ul></li></ul></li> <li><p>其他</p> <ul><li><p>ts-loader</p></li> <li><p>awesome-typescript-loader</p> <ul><li>性能要比 ts-loader 好</li></ul></li></ul></li></ul></li> <li><p>img</p> <ul><li><p>url-loader</p> <ul><li>默认使用 ES6module 解析</li> <li>esModule: false</li></ul></li> <li><p>file-loader</p></li></ul></li> <li><p>其他</p> <ul><li><p>raw-loader</p> <ul><li>处理文本文件</li></ul></li> <li><p>source-map-loader</p> <ul><li>加载额外的 source map 文件</li></ul></li> <li><p>svg-inline-loader</p> <ul><li>把压缩后的 SVG 内容注入到代码中</li></ul></li> <li><p>node-loader</p> <ul><li>加载 Node.js 原生模块 .node 文件</li></ul></li> <li><p>image-loader</p> <ul><li>加载并且压缩图片文件</li></ul></li> <li><p>json-loader</p> <ul><li>加载 JSON 文件</li></ul></li> <li><p>yaml-loader</p> <ul><li>加载 YAML 文件</li></ul></li></ul></li></ul></li> <li><p>从后往前调用</p></li></ul> <h3 id="打包链路"><a href="#打包链路" class="header-anchor">#</a> 打包链路</h3> <ul><li>1、初始化 Compiler，通过 new Webpack(config)得到 compiler 对象</li> <li>2、开始编译，执行 Compiler 对象上的 run 方法开始执行编译</li> <li>3、确定入口文件：根据配置中 entry 字段找到所有入口文件</li> <li>4、编译模块：从入口文件出发，递归遍历所有依赖的文件，并调用 loader 对模块进行编译，知道所有模块都完成编译</li> <li>5、完成编译：得到上一步所有文件的编译结果及依赖关系</li> <li>6、输入资源：根据入口和模块之间的依赖关系，组装成一个的 Chunk，再把每一个 Chunk 转化成单独的文件输出到列表（这一步是可以改变输出内容的最后一步）</li> <li>7、完成输出：确定好输出内容后，根据配置确定输出路径和文件名，把文件内容写入到文件系统</li></ul> <h2 id="核心概念"><a href="#核心概念" class="header-anchor">#</a> 核心概念</h2> <h3 id="entry"><a href="#entry" class="header-anchor">#</a> entry</h3> <ul><li><p>字符串</p> <ul><li>将所有模块打包到一个 chunk，默认的 chunkName 为 main</li></ul></li> <li><p>数组</p> <ul><li>从多个入口开始打包，并合并到一个 chunk 中</li></ul></li> <li><p>对象</p> <ul><li>多入口打包，每一个 chunk 的名字由对象中的键指定</li></ul></li></ul> <h3 id="output"><a href="#output" class="header-anchor">#</a> output</h3> <ul><li><p>path</p></li> <li><p>publicPath</p></li> <li><p>filename</p> <ul><li>chunkName</li> <li>hash</li></ul></li></ul> <h3 id="module"><a href="#module" class="header-anchor">#</a> module</h3> <ul><li><p>rules</p> <ul><li><p>loaders</p> <ul><li>告诉 webpack 如何去处理指定格式的文件</li> <li>编写一个 loader</li></ul></li> <li><p>oneOf</p> <ul><li>提交匹配效率</li></ul></li></ul></li> <li><p>noParse</p> <ul><li>不参与语法解析过程得问题件</li></ul></li></ul> <h3 id="plugins"><a href="#plugins" class="header-anchor">#</a> plugins</h3> <ul><li>如何编写一个 plugin</li> <li>做一些 webpack 之外的工作</li></ul> <h3 id="devtool"><a href="#devtool" class="header-anchor">#</a> devtool</h3> <ul><li><p>source-map</p> <ul><li>[inlint-|hidden-|eval][nosources-][cheap-[module-]]source-map</li> <li>默认输出单独的 source-map 文件</li></ul></li> <li><p>开发:cheap-module-eval-source-map</p></li> <li><p>生产：cheap-module-source-map</p></li></ul> <h3 id="mode"><a href="#mode" class="header-anchor">#</a> mode</h3> <ul><li><p>development</p></li> <li><p>production</p> <ul><li>会压缩并丑化代码，变得不可读</li></ul></li> <li><p>主要工作是区分 process.env.NODE_ENV，并自动加载一些内置插件</p></li></ul> <h3 id="externals"><a href="#externals" class="header-anchor">#</a> externals</h3> <ul><li>外部资源通过 CDN 方式引入</li></ul> <h3 id="devserver"><a href="#devserver" class="header-anchor">#</a> devServer</h3> <ul><li><p>自动监听，打包文件</p> <ul><li>contentBase</li> <li>port</li> <li>compress</li> <li>hot</li> <li>host</li> <li>open</li> <li>historyApifallback</li> <li>overlay</li> <li>proxy</li></ul></li></ul> <h3 id="resolve"><a href="#resolve" class="header-anchor">#</a> resolve</h3> <ul><li><p>alias</p></li> <li><p>extensions</p></li> <li><p>modules</p> <ul><li>解析模块的目录，与 require.paths 同一个意思</li></ul></li></ul> <h3 id="resolveloader"><a href="#resolveloader" class="header-anchor">#</a> resolveLoader</h3> <ul><li>解析 loader 得规则</li> <li>modules</li></ul> <h2 id="功能-优化"><a href="#功能-优化" class="header-anchor">#</a> 功能/优化</h2> <h3 id="code-split"><a href="#code-split" class="header-anchor">#</a> code split</h3> <ul><li><p>代码分割可以减小主包的大小，将资源分散到几个文件中去加载，实现按需加载或并行加载</p></li> <li><p>babel 插件:babel-plugin-dynamic-import-webpack</p></li> <li><p>分割方式</p> <ul><li><p>配置 entry，在入口手动分割</p> <ul><li>如果多个入口引用了相同的模块，那么模块会重复的打包到每一个 chunk</li></ul></li> <li><p>动态 import</p> <ul><li>在一个入口（chunk）内中，将部分代码分离出去</li></ul></li> <li><p>optimization.splitChunks</p> <ul><li><p>chunks: all</p> <ul><li>将 node_modules 中的模块单独打包到一个 chunk</li> <li>多个 chunk 中引用的第三方模块，只输出一次</li></ul></li></ul></li> <li><p>splitChunksPlugin</p> <ul><li>可以将公共的依赖模块提取到已有的入口 chunk 中，或者提取到一个新生成的 chunk</li></ul></li> <li><p>预载入</p> <ul><li><p>预获取：prefetch</p> <ul><li>webpackPrefetch: true</li> <li>将来某些导航下可能需要的资源</li> <li>通过在页面 head 部分注入一个 link 标签，并表明 type 为 prefetch。<link rel="prefetch" href="login-modal-chunk.js"></li></ul></li> <li><p>预加载：preload</p> <ul><li>当前导航下可能需要资源</li> <li>webpackPreload: true</li> <li><link rel="preload"> 并行加载
</li></ul></li> <li><p>不同点</p> <ul><li><p>preload</p> <ul><li>在父 chunk 加载时，并行加载</li> <li>中等优先级，并立即下载</li></ul></li> <li><p>prefetch</p> <ul><li>在父 chunk 加载完成以后，才开始加载</li> <li>浏览器闲置时下载</li></ul></li> <li><p>浏览器支持程度不同</p></li></ul></li> <li><p>preload-webpack-plugin</p></li></ul></li></ul></li></ul> <h3 id="shimming"><a href="#shimming" class="header-anchor">#</a> shimming</h3> <h3 id="lazy-loading"><a href="#lazy-loading" class="header-anchor">#</a> lazy loading</h3> <ul><li>当请求到某个资源的时候才去加载</li> <li>动态 import</li></ul> <h3 id="pwa-渐进式网络应用程序"><a href="#pwa-渐进式网络应用程序" class="header-anchor">#</a> pwa：渐进式网络应用程序</h3> <ul><li><p>workbox</p> <ul><li><p>workbox-webpack-plugin</p> <ul><li>plugins:[ new Workbox.generateSW() ]</li> <li>clientclaim</li> <li>skipWaiting</li> <li>生成一个 serviceworker 文件</li></ul></li></ul></li></ul> <h3 id="性能优化"><a href="#性能优化" class="header-anchor">#</a> 性能优化</h3> <ul><li><p>开发环境优化</p> <ul><li><p>优化打包速度</p> <ul><li><p><a href="./HMR">HMR</a></p> <ul><li><p>当更新某一个文件的时候，webpack 会重新打包所有模块，如果项目文件过多，每一次打包的时间都将很长</p></li> <li><p>只更新我们修改过的部分，而不会编译全部代码</p></li> <li><p>css 的 hmr 需要再开发环境下使用 style-loader</p></li> <li><p>html</p> <ul><li><p>在 entry 中添加 html</p> <ul><li>entry:['./scr/index.js', './src/index.html']</li> <li>也不是真正的 hmr</li></ul></li></ul></li> <li><p>js</p> <ul><li>module.hot</li></ul></li></ul></li></ul></li> <li><p>优化调试功能</p> <ul><li>devtool</li> <li>rules oneOf</li></ul></li></ul></li> <li><p>生产环境优化</p> <ul><li><p>优化打包速度</p> <ul><li><p>caching</p> <ul><li><p>babel 缓存</p> <ul><li><p>cacheDirectory</p> <ul><li>将 babel 编译的结果缓存起来，当修改过一个文件编译的时候，其他没有修改过的文件将直接使用缓存的结果</li></ul></li></ul></li> <li><p>文件资源缓存</p> <ul><li><p>在一定时间内如果文件没有改变，浏览器将直接使用本地缓存的文件</p> <ul><li>强制缓存与协商缓存</li></ul></li> <li><p>hash</p> <ul><li>每一次打包都生成一个不同的 hash</li></ul></li> <li><p>contenthash</p> <ul><li>根据文件内容生成 hash</li></ul></li> <li><p>chunkhash</p> <ul><li>不同的 chunk 有不同的 hash</li></ul></li></ul></li></ul></li> <li><p>dll</p> <ul><li><p>动态链接库，指示 webpack 哪些库不参与打包</p> <ul><li><p>创建 dll</p> <ul><li>webpack.dllplugin</li></ul></li> <li><p>引入 dll</p> <ul><li><p>通知 webpack 哪些是 dll，不进行打包</p> <ul><li>webpack.dllreferenceplugin</li></ul></li></ul></li></ul></li> <li><p>相当于手动创建 external 的包</p></li> <li><p>与 external 的区别</p> <ul><li>dll 可以自定义要 external 哪些包</li></ul></li></ul></li></ul></li> <li><p>优化代码的性能</p></li> <li><p>资源的大小和数量</p> <ul><li><p>tree shaking</p> <ul><li>打包阶段，去除掉没有用到的功能，减小包的体积，加快资源的获取</li> <li>ES6 Module 会默认触发 treeshaking，而 CommonJS 无法触发，原因在于，ES6 Module 是静态引用，编译阶段即可确定依赖关系，而 CommonJS 是动态应用</li> <li>在 package.json 中添加 sideEffects 属性，表示哪些文件不执行 tree shaking，需要配置 css 文件不执行 tree shaking</li> <li>webpack 打包生产模式的时候自动开启</li></ul></li></ul></li> <li><p>optimization</p> <ul><li><p>splitChunks</p></li> <li><p>runtimChunk</p> <ul><li>将生成得运行时代码单独打包到一个文件</li></ul></li> <li><p>minimizer</p> <ul><li>terser-webpack-plugin</li> <li>mini-css-extract-plugin</li></ul></li></ul></li></ul></li></ul> <h3 id="多进程打包"><a href="#多进程打包" class="header-anchor">#</a> 多进程打包</h3> <ul><li><p>工具</p> <ul><li>thread-loader</li></ul></li> <li><p>只有工作耗时较长才有必要</p></li></ul> <h2 id="原理"><a href="#原理" class="header-anchor">#</a> 原理</h2> <h3 id="模块打包和执行的核心逻辑"><a href="#模块打包和执行的核心逻辑" class="header-anchor">#</a> 模块打包和执行的核心逻辑</h3> <h3 id="异步模块加载原理"><a href="#异步模块加载原理" class="header-anchor">#</a> 异步模块加载原理</h3></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/code/frontend/javascript/内存管理-如何处理常见的内存泄露.html" class="prev">
        内存管理-如何处理常见的内存泄露
      </a></span> <span class="next"><a href="/code/frontend/webpack/如何编写一个webpack的loader.html">
        如何编写一个webpack的loader
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/app.03a08a11.js" defer></script><script src="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/3.2b593545.js" defer></script><script src="https://cdn.jsdelivr.net/gh/changero/blog@gh-pages/assets/js/25.c4c34c07.js" defer></script>
  </body>
</html>
